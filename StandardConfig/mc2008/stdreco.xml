<!--
      Template for creating the 
      example steering file for a standard reconstruction for 
      the 2008 MonteCarlo production.
      
	  use: writesteer.py stdreco_IN.xml stdreco.cfg 
	  to create actual steering file

      Requires ilcsoft v01-05-02 or higher

      F.Gaede, DESY       
    
      [contributions: S.Aplin,T.Jayawardena,A.Raspiereza, M.Thomson, R.Walsh... ] 

      Version:  $Id: stdreco.xml,v 1.34 2008-12-16 10:51:50 walsh Exp $

-->


<marlin>

   <execute>
      <processor name="MyAIDAProcessor"/>
      <processor name="MyMaterialDB"/>
 <!-- ========== track digitization and tracking  =======================================  -->
      <processor name="MyTPCDigiProcessor"/>
      <!--  processor name="MyCurlKillerProcessor"/ -->
      <processor name="MyVTXDigiProcessor" />
      <!-- processor name="MyVTXNoiseHits" /-->
      <processor name="MyFTDDigiProcessor"/>
      <processor name="MyETDDigiProcessor"/>
      <processor name="MyLEPTrackingProcessor"/>
      <processor name="MySiliconTracking"/>
      <processor name="MyFullLDCTracking"/>
      <processor name="MyV0Finder"/>
 <!-- ========== calorimeter digitization and PFA =======================================  -->
      <!--processor name="MyLDCCaloDigi"/-->
      <processor name="MyNewLDCCaloDigi"/>
      <processor name="MySimpleBCalDigi"/>
      <processor name="MySimpleLCalDigi"/>
      <processor name="MySimpleLHCalDigi"/>
      <processor name="MySimpleMuonDigi"/>

      <processor name="MyPandoraPFAProcessor"/>
  <!-- ========== particle ID ======================================  -->
      <processor name="MyPFOID" />
  <!-- ========== jet finder =======================================  -->
      <group name="JetFinders"/>
 <!-- ========== LCFI flavour tag =======================================  -->
      <group name="MyTrueAngularJetFlavourProcessorCollection"/>
      <processor name="IPRPCutProcessor"/>
      <processor name="MyPerEventIPFitterProcessor"/>
      <group name="ZVRESRPCutProcessorCollection"/>  
      <group name="MyZVTOP_ZVRESCollection"/>
      <group name="FTRPCutProcessorCollection"/>
      <group name="MyFlavourTagInputsProcessorCollection"/>
      <group name="MyFlavourTagCollection"/>
      <group name="BVertexChargeCollection"/>
      <group name="CVertexChargeCollection"/>
      <group name="DSTFlavourTag"/>
 <!-- ========== full and DST output =======================================  -->
      <processor name="MyRecoMCTruthLinker"/>
      <processor name="MyMCTruthJetEnergy" />
      <processor name="MyLCIOOutputProcessor"/>
      <processor name="DSTOutput"/>
   </execute>

   <global>
      <parameter name="LCIOInputFiles">
        ./M06-07-p01_ppr004_bbcssc_w17789_500_ILD_00_LCP_ep+1.0_em-1.0_Slac_SM_0050_3evt.slcio
      </parameter>
      <parameter name="GearXMLFile" value="gear_ILD_00.xml"/>
      <parameter name="MaxRecordNumber" value="0"/>
      <parameter name="SkipNEvents" value="0"/>
      <parameter name="SupressCheck" value="false"/>
   </global>

 <processor name="MyLCIOOutputProcessor" type="LCIOOutputProcessor">
  <!--   standard output: full reconstruction keep all collections -->
  <parameter name="LCIOOutputFile" type="string" >
       ./M06-07-p01_ppr004_bbcssc_w17789_500_ILD_00_LCP_ep+1.0_em-1.0_Slac_SM_0050_3evt_REC.slcio 
  </parameter>
  <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW"/>
  <!--parameter name="SplitFileSizekB" type="int" value="1992294"/-->
 </processor>

 <processor name="DSTOutput" type="LCIOOutputProcessor">
   <!--   
     DST output: drop all hits, skim MCParticles and keep final Tracks, Clusters and  ReconstructedParticles 
     TO DO:  add LCFI flavour tag stuff
   -->
   <parameter name="LCIOOutputFile" type="string" >
       ./M06-07-p01_ppr004_bbcssc_w17789_500_ILD_00_LCP_ep+1.0_em-1.0_Slac_SM_0050_3evt_DST.slcio 
   </parameter>
   <parameter name="DropCollectionTypes" type="StringVec"> 
       MCParticle 
       LCRelation 
       SimTrackerHit 
       SimCalorimeterHit
       TrackerHit 
       CalorimeterHit 
       Track 
       ReconstructedParticle
       LCFloatVec      
    </parameter>
    <parameter name="FullSubsetCollections" type="StringVec" value="MCParticlesSkimmed"/>
    <parameter name="KeepCollectionNames" type="StringVec"> 
       MCParticlesSkimmed 
       RecoMCTruthLink
       LDCTracks 
       PandoraPFOs
       Durham_2Jets
       Durham_3Jets
       Durham_4Jets
       Durham_5Jets
       Durham_6Jets
	   <!--  Durham_7Jets
	   Durham_8Jets -->
    </parameter>
    <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW"/>
    <!--parameter name="SplitFileSizekB" type="int" value="1992294"/-->
 </processor>

 <processor name="MyAIDAProcessor" type="AIDAProcessor">
 <!--Processor that handles AIDA files. Creates on directory per processor.  Processors only need to create and fill the histograms, clouds and tuples. Needs to be the first ActiveProcessor-->
  <!-- compression of output file 0: false >0: true (default) -->
  <parameter name="Compress" type="int" value="1"/>
  <!-- filename without extension-->
  <parameter name="FileName" type="string" value="stdreco"/>
  <!-- type of output file xml (default) or root ( only OpenScientist)-->
  <parameter name="FileType" type="string" value="root "/>
</processor>

 <processor name="MyMaterialDB" type="MaterialDB">
 <!--Material DB builder...-->
  <parameter name="UseExtrapolations" type="int" value="1"/>
  <parameter name="UseMaterials" type="int" value="1"/>
</processor>


 <processor name="MyTPCDigiProcessor" type="TPCDigiProcessor">
 <!--Produces TPC TrackerHit collection from SimTrackerHit collection, smeared in RPhi and Z-->
  <!--Name of the SimTrackerHit collection-->
  <parameter name="CollectionName" type="string"> TPCCollection </parameter>
  <!--parameter name="CollectionName"> STpc01_TPC </parameter-->
  <parameter name="TPCTrackerHitsCol" type="string"> AllTPCTrackerHits </parameter>
 </processor>


 <!-- processor name="MyCurlKillerProcessor" type="CurlKillerProcessor">
  <parameter name="InputCollectionName" type="string"> AllTPCTrackerHits </parameter>
  <parameter name="RemainingCollectionName" type="string"> TPCTrackerHits </parameter>  
 </processor  -->


 <processor name="MyVTXDigiProcessor" type="VTXDigiProcessor">
 <!--VTXDigiProcessor should create VTX TrackerHits from SimTrackerHits-->
  <!--Debugging option-->
  <parameter name="Debug" type="int">0 </parameter>
  <!--Momentum Cut For D Rays (MeV)-->
  <parameter name="MomentumCutForDRays" type="float">10 </parameter>
  <!--R-Phi Resolution in SET-->
  <parameter name="PointResolutionRPhi_SET" type="float">0.007 </parameter>
  <!--R-Phi Resolution in SIT-->
  <parameter name="PointResolutionRPhi_SIT" type="float">0.007 </parameter>
  <!--R-Phi Resolution in VTX-->
  <parameter name="PointResolutionRPhi_VTX" type="float">0.0028 </parameter>
  <!--Z Resolution in SET-->
  <parameter name="PointResolutionZ_SET" type="float">0.050 </parameter>
  <!--only SET hits from active layers are digitized (mimic stereo layers)-->
  <parameter name="ActiveSETLayers" type="IntVec"> 1 </parameter>
  <!--Z Resolution in SIT-->
  <parameter name="PointResolutionZ_SIT" type="float">0.050 </parameter>
  <!--Z Resolution in VTX-->
  <parameter name="PointResolutionZ_VTX" type="float">0.0028 </parameter>
  <!--Remove D-rays ?-->
  <parameter name="RemoveDrays" type="int">0 </parameter>
  <!--Name of the SET SimTrackerHit collection-->
  <parameter name="SETCollectionName" type="string" lcioInType="SimTrackerHit">SETCollection </parameter>
  <!--Name of the set TrackerHit output collection-->
  <parameter name="SETHitCollection" type="string" lcioOutType="TrackerHit">SETTrackerHits </parameter>
  <!--Name of the SIT SimTrackerHit collection-->
  <parameter name="SITCollectionName" type="string" lcioInType="SimTrackerHit">SITCollection </parameter>
  <!--Name of the sit TrackerHit output collection-->
  <parameter name="SITHitCollection" type="string" lcioOutType="TrackerHit">SITTrackerHits </parameter>
  <!--Name of the VTX SimTrackerHit collection-->
  <parameter name="VTXCollectionName" type="string" lcioInType="SimTrackerHit">VXDCollection </parameter>
  <!--Name of the vxd TrackerHit output collection-->
  <parameter name="VTXHitCollection" type="string" lcioOutType="TrackerHit">VTXTrackerHits </parameter>
 </processor>

 <processor name="MyVTXNoiseHits" type="VTXNoiseHits">
 <!--VTXNoiseHits should create VTX TrackerHits from SimTrackerHits-->
  <!--Name of the VTX TrackerHit collection-->
  <parameter name="VTXCollectionName" type="string" lcioInType="TrackerHit"> VTXTrackerHits </parameter>
  <!--hit densities (hits/cm^2) per VXD layer-->
  <parameter name="HitDensityPerLayer_VTX" type="FloatVec"> 10 10 8 5 5 </parameter>
  <!--R-Phi Resolution in VTX-->
  <parameter name="PointResolutionRPhi_VTX" type="float" value="0.0027"/>
  <!--Z Resolution in VTX-->
  <parameter name="PointResolutionZ_VTX" type="float" value="0.0027"/>
 </processor>


 <processor name="MyFTDDigiProcessor" type="FTDDigiProcessor">
 <!--FTDDigiProcessor creates FTD TrackerHits from SimTrackerHits-->
  <!--Name of the SimTrackerHit collection-->
  <parameter name="CollectionName" type="string" lcioInType="SimTrackerHit">FTDCollection </parameter>
  <!--Momentum Cut For D Rays (GeV)-->
  <parameter name="MomentumCutForDRays" type="float">10 </parameter>
  <!--Name of the TrackerHit output collection-->
  <parameter name="OutputCollectionName" type="string" lcioOutType="TrackerHit">FTDTrackerHits </parameter>
  <!--Point Resolution in FTD-->
  <parameter name="PointResolution" type="float">0.007 </parameter>
  <!--Remove D rays?-->
  <parameter name="RemoveDrays" type="int">0 </parameter>
 </processor>

 <processor name="MyETDDigiProcessor" type="ETDDigiProcessor">
 <!--ETDDigiProcessor creates FTD TrackerHits from SimTrackerHits-->

   <!--only hits from active layers are digitized (mimicking stereo layers)-->
   <parameter name="ActiveLayers" type="IntVec">-2 2  </parameter>
  <!--Name of the SimTrackerHit collection-->
  <parameter name="CollectionName" type="string" lcioInType="SimTrackerHit"> ETDCollection </parameter>
  <!--Momentum Cut For D Rays (GeV)-->
  <parameter name="MomentumCutForDRays" type="float">10 </parameter>
  <!--Name of the TrackerHit output collection-->
  <parameter name="OutputCollectionName" type="string" lcioOutType="TrackerHit"> ETDTrackerHits </parameter>
  <!--Point Resolution in ETD-->
  <parameter name="PointResolution" type="float">0.0058</parameter>
  <!--Remove D rays?-->
  <parameter name="RemoveDrays" type="int">0 </parameter>
 </processor>

 <processor name="MyLEPTrackingProcessor" type="LEPTrackingProcessor">
  <parameter name="TPCTrackerHitCollectionName" type="string" lcioInType="TrackerHit">AllTPCTrackerHits </parameter>
  <parameter name="MCTPCTrackRelCollectionName" type="string" lcioOutType="LCRelation">TPCTracksMCP </parameter>
  <parameter name="UsedCollectionName" type="string" lcioOutType="TrackerHit">UsedTPCTrackerHits </parameter>
  <parameter name="DroppedCollectionName" type="string" lcioOutType="TrackerHit">DroppedTPCTrackeHits </parameter>
  <parameter name="TPCTrackCollectionName" type="string">TPCTracks </parameter>
</processor>

 <processor name="MySiliconTracking" type="SiliconTracking">
 <!--Vertex Tracking-->
  <parameter name="Chi2WRphiTriplet" type="float"> 1</parameter>
  <parameter name="Chi2WRphiQuartet" type="float"> 1</parameter>
  <parameter name="Chi2WRphiSeptet" type="float"> 1</parameter>
  <parameter name="Chi2WZTriplet" type="float"> 0.5</parameter>
  <parameter name="Chi2WZQuartet" type="float"> 0.5</parameter>
  <parameter name="Chi2WZSeptet" type="float"> 0.5 </parameter>
  <parameter name="Chi2FitCut" type="float">120.0 </parameter>
  <parameter name="Chi2PrefitCut" type="float"> 1e+10 </parameter>
  <parameter name="NDivisionsInPhi" type="int"> 80 </parameter>
  <parameter name="NDivisionsInPhiFTD" type="int"> 20 </parameter>
  <parameter name="NDivisionsInTheta" type="int"> 80 </parameter>
  <parameter name="LayerCombinations" type="IntVec">    6 4 3  6 4 2  6 3 2  5 4 3  5 4 2  5 3 2  
                                                        5 3 1  5 2 1  4 3 2  4 3 1  4 2 1  3 2 1 </parameter>
  <parameter name="LayerCombinationsFTD" type="IntVec"> 6 5 4  6 5 3  5 4 3  5 4 2  5 4 1  5 3 2 
                                                        5 3 1  5 2 1  4 3 2  4 3 1  4 3 0  4 2 1 
							4 2 0  4 1 0  3 2 1  3 2 0  3 1 0  2 1 0  </parameter>

  <parameter name="MinimalHits" type="int"> 3 </parameter>
  <parameter name="FastAttachment" type="int"> 0 </parameter>
  <parameter name="MinDistCutAttach" type="float"> 2.5 </parameter>
  <parameter name="AngleCutForMerging" type="float"> 0.1 </parameter>
  <parameter name="SimpleHelixFit" type="int"> 1 </parameter>
  <parameter name="FinalRefit" type="int"> 1 </parameter>
  <parameter name="UseSIT" type="int"> 1 </parameter>
  <parameter name="UseExtraPoint" type="int"> 0 </parameter>
 </processor>

<!--######  MyV0Finder ##########################################-->
 <processor name="MyV0Finder" type="V0Finder">
  <parameter name="TrackCollection" type="string"> LDCTracks</parameter>
  <parameter name="MassRangeGamma"  type="float">  0.01 </parameter>
  <parameter name="MassRangeK0S"    type="float">  0.02 </parameter>
  <parameter name="MassRangeL0"     type="float">  0.02 </parameter>
 </processor>

 <processor name="MyFullLDCTracking" type="FullLDCTracking">
 <!--Performs full tracking in LDC detector-->
  <!--Assign ETD Hits-->
  <parameter name="AssignETDHits" type="int"> 1 </parameter>
  <!--Assign left over FTD hits-->
  <parameter name="AssignFTDHits" type="int"> 1 </parameter>
  <!--Assign SET Hits-->
  <parameter name="AssignSETHits" type="int"> 1 </parameter>
  <!--Assign left over SIT hits-->
  <parameter name="AssignSITHits" type="int"> 1 </parameter>
  <!--Assign left over TPC hits-->
  <parameter name="AssignTPCHits" type="int"> 1 </parameter>
  <!--Assign left over VTX hits-->
  <parameter name="AssignVTXHits" type="int"> 1 </parameter>
  <!--Cut on fit Chi2-->
  <parameter name="Chi2FitCut" type="float">100 </parameter>
  <!--Cut on fit Chi2-->
  <parameter name="Chi2PrefitCut" type="float">100000 </parameter>
  <!--Create Track to MCP Relations-->
  <parameter name="CreateMap" type="int">1 </parameter>
  <!--Cut on the number of the TPC hits for tracks with no Si hits-->
  <parameter name="CutOnTPCHits" type="int"> 35 </parameter>
  <!--Cut on the track parameter D0-->
  <parameter name="CutOnTrackD0" type="float"> 500 </parameter>
  <!--Cut on the track parameter Z0-->
  <parameter name="CutOnTrackZ0" type="float"> 500 </parameter>
  <!--Cut on D0 difference for forced merging of Si and TPC segments-->
  <parameter name="D0CutForForcedMerging" type="float"> 50 </parameter>
  <!--Cut on D0 difference for merging of Si and TPC segments-->
  <parameter name="D0CutForMerging" type="float"> 500 </parameter>
  <!--Cut on D0 difference for merging TPC segments-->
  <parameter name="D0CutToMergeTPCSegments" type="float">100 </parameter>
  <!--Activate debugging?-->
  <parameter name="Debug" type="int"> 0 </parameter>
  <!--Cut on Omega difference for forced merging of Si and TPC segments-->
  <parameter name="OmegaCutForForcedMerging" type="float">0.15 </parameter>
  <!--Cut on Omega difference for merging Si and TPC segments-->
  <parameter name="OmegaCutForMerging" type="float">0.25 </parameter>
  <!--Cut on Opening Angle for forced merging of Si and TPC segments-->
  <parameter name="AngleCutForForcedMerging" type="float">0.05 </parameter>
  <!--Cut on Opening Angle for merging Si and TPC segments-->
  <parameter name="AngleCutForMerging" type="float">0.1 </parameter>
  <!--Cut on dP/P difference for merging TPC segments-->
  <parameter name="DeltaPCutToMergeTPCSegments" type="float">0.06 </parameter>
  <!--ETD Hit Collection Name-->
  <parameter name="ETDHitCollection" type="string" lcioInType="TrackerHit">ETDTrackerHits </parameter>
  <!--Cut on distance between track and ETD hits-->
  <parameter name="ETDHitToTrackDistance" type="float">10 </parameter>
  <!--SET Hit Collection Name-->
  <parameter name="SETHitCollection" type="string" lcioInType="TrackerHit">SETTrackerHits </parameter>
  <!--Cut on distance between track and SET hits-->
  <parameter name="SETHitToTrackDistance" type="float">2 </parameter>
  <!--FTD Hit Collection Name-->
  <parameter name="FTDHitCollection" type="string" lcioInType="TrackerHit">FTDTrackerHits </parameter>
  <!--Cut on distance between track and FTD hits-->
  <parameter name="FTDHitToTrackDistance" type="float"> 1 </parameter>
  <!--Forbid overlap in Z for combining TPC segments with tracks having Si hits-->
  <parameter name="ForbidOverlapInZComb" type="int"> 0 </parameter>
  <!--Forbid overlap in Z for the merged TPC segments-->
  <parameter name="ForbidOverlapInZTPC" type="int"> 0 </parameter>
  <!--Force merging of Si and TPC segments?-->
  <parameter name="ForceSiTPCMerging" type="int"> 0 </parameter>
  <!--Force merging of TPC Segments?-->
  <parameter name="ForceTPCSegmentsMerging" type="int"> 1 </parameter>
  <!--Option for the LDC Track fit-->
  <parameter name="OptFit" type="int"> 4 </parameter>
  <!--Option for Si tracks refitting-->
  <parameter name="OptFitSi" type="int"> 2 </parameter>
  <!--Option for TPC tracks refitting-->
  <parameter name="OptFitTPC" type="int"> 2 </parameter>
  <!--Refit Si Tracks ?-->
  <parameter name="RefitSiTracks" type="int"> 0 </parameter>
  <!--Refit TPC Tracks ?-->
  <parameter name="RefitTPCTracks" type="int"> 1 </parameter>
  <!--SIT Hit Collection Name-->
  <parameter name="SITHitCollection" type="string" lcioInType="TrackerHit">SITTrackerHits </parameter>
  <!--Cut on distance between track and SIT hits-->
  <parameter name="SITHitToTrackDistance" type="float"> 1 </parameter>
  <!--Si Track Collection-->
  <parameter name="SiTracks" type="string" lcioInType="Track">SiTracks </parameter>
  <!--Store only hits used in fit?-->
  <parameter name="StoreHitsInFit" type="int">0 </parameter>
  <!--Store Refitted Si Tracks ?-->
  <parameter name="StoreRefittedSiTracks" type="int">0 </parameter>
  <!--Store Refitted TPC Tracks ?-->
  <parameter name="StoreRefittedTPCTracks" type="int">0 </parameter>
  <!--TPC Hit Collection Name-->
  <parameter name="TPCHitCollection" type="string" lcioInType="TrackerHit">UsedTPCTrackerHits </parameter>
  <!--Cut on distance between track and TPC hits-->
  <parameter name="TPCHitToTrackDistance" type="float"> 10 </parameter>
  <!--TPC Track Collection-->
  <parameter name="TPCTracks" type="string" lcioInType="Track"> TPCTracks </parameter>
  <!--Use Extra Point in Fit-->
  <parameter name="UseExtraPoint" type="int"> 0 </parameter>
  <!--VTX Hit Collection Name-->
  <parameter name="VTXHitCollection" type="string" lcioInType="TrackerHit"> VTXTrackerHits </parameter>
  <!--Cut on distance between track and VTX hits-->
  <parameter name="VTXHitToTrackDistance" type="float"> 0.5 </parameter>
  <!--Cut on Z0 difference for forced merging of Si and TPC segments-->
  <parameter name="Z0CutForForcedMerging" type="float">500 </parameter>
  <!--Cut on Z0 difference for merging of Si and TPC segments-->
  <parameter name="Z0CutForMerging" type="float"> 1000 </parameter>
  <!--Cut on Z0 difference for merging TPC segments-->
  <parameter name="Z0CutToMergeTPCSegments" type="float">5000 </parameter>
  <!--Parameter a to define minimal IP error-->
  <parameter name="aParameterForIPError" type="float">0.002 </parameter>
  <!--Parameter b to define minimal IP error-->
  <parameter name="bParameterForIPError" type="float">0.0076 </parameter>
  <!--Parameter s to define minimal IP error-->
  <parameter name="sParameterForIPError" type="float">0.75 </parameter>
 </processor>


 <processor name="MyNewLDCCaloDigi" type="NewLDCCaloDigi">
 <!--LDC digitizer...-->
  <!--Calibration coefficients for ECAL-->
  <parameter name="CalibrECAL" type="FloatVec">40.91 81.81  </parameter>
  <!--Calibration coefficients for HCAL-->
  <parameter name="CalibrHCAL" type="FloatVec">34.8  </parameter>
  <!--ECAL Collection Names-->
  <parameter name="ECALCollections" type="StringVec">EcalBarrelCollection EcalEndcapCollection EcalEndcapRingCollection </parameter>
  <!--Index of ECal Layers-->
  <parameter name="ECALLayers" type="IntVec">20 100  </parameter>
  <!--Threshold for ECAL Hits in GeV-->
  <parameter name="ECALThreshold" type="float">5e-05 </parameter>
  <!--HCAL Collection Names-->
  <parameter name="HCALCollections" type="StringVec">HcalBarrelRegCollection  HcalEndCapsCollection HcalEndCapRingsCollection</parameter>
  <!--Index of HCal Layers-->
  <parameter name="HCALLayers" type="IntVec">100  </parameter>
  <!--Threshold for HCAL Hits in GeV-->
  <parameter name="HCALThreshold" type="float">0.00025 </parameter>
  <!--Digital Ecal-->
  <parameter name="IfDigitalEcal" type="int">0 </parameter>
  <!--Digital Hcal-->
  <parameter name="IfDigitalHcal" type="int">0 </parameter>
  <!--name for the new collection -->
  <parameter name="ECALOutputCollection0" type="stringVec">ECALBarrel </parameter>
  <parameter name="ECALOutputCollection1" type="stringVec">ECALEndcap </parameter>
  <parameter name="ECALOutputCollection2" type="stringVec">ECALOther </parameter>
  <parameter name="HCALOutputCollection0" type="stringVec">HCALBarrel </parameter>
  <parameter name="HCALOutputCollection1" type="stringVec">HCALEndcap </parameter>
  <parameter name="HCALOutputCollection2" type="stringVec">HCALOther </parameter>
  <!--CaloHit Relation Collection-->
  <parameter name="RelationCollName" type="string">RelationCaloHit </parameter>
  <!--Gap Correction-->
  <parameter name="ECALGapCorrection" type="int"> 1 </parameter>
  <!--Gap Correction Fudge Factor-->
  <parameter name="ECALGapCorrectionFactor" type="int"> 1.0 </parameter>
  <parameter name="ECALModuleGapCorrectionFactor" type="int"> 0.0 </parameter>
</processor>


<!--######  SimpleBCALDigi ##########################################-->

 <processor name="MySimpleBCalDigi" type="SimpleLCalDigi">
 <!--Performs simple digitization of sim calo hits...-->
  <!--Calibration coefficients for LCAL-->
  <parameter name="CalibrLCAL" type="FloatVec">65.2</parameter>
  <!--LCAL Collection Names-->
  <parameter name="LCALCollections" type="StringVec">BeamCalCollection</parameter>
  <!--LCAL Collection of real Hits-->
  <parameter name="LCALOutputCollection" type="string">BCAL</parameter>
  <!--Threshold for LCAL Hits in GeV-->
  <parameter name="LCALThreshold" type="float">1e-06 </parameter>
  <!--MuonHit Relation Collection-->
  <parameter name="RelationOutputCollection" type="string">RelationBCalHit </parameter>
</processor>

<!--######  SimpleLCalDigi ##########################################-->

 <processor name="MySimpleLCalDigi" type="SimpleLCalDigi">
   <!--Performs simple digitization of sim calo hits...-->
   <!--Calibration coefficients for LCAL-->
   <parameter name="CalibrLCAL" type="FloatVec">89.0</parameter>
   <!--LCAL Collection Names-->
   <parameter name="LCALCollections" type="StringVec"> LumiCalCollection  </parameter>
   <!--LCAL Collection of real Hits-->
   <parameter name="LCALOutputCollection" type="string">LCAL </parameter>
   <!--Threshold for LCALHits in GeV-->
   <parameter name="LCALThreshold" type="float">0e-04 </parameter>
   <!--LCALHit Relation Collection-->
   <parameter name="RelationOutputCollection" type="string">RelationLcalHit </parameter>
 </processor>
					  
<!--######  SimpleLHCALDigi ##########################################-->

 <processor name="MySimpleLHCalDigi" type="SimpleLHCalDigi">
 <!--Performs simple digitization of sim calo hits...-->
  <!--Calibration coefficients for LHCAL-->
  <parameter name="CalibrLHCAL" type="FloatVec">150</parameter>
  <!--LHCAL Collection Names-->
  <parameter name="LHCALCollections" type="StringVec"> LHcalCollection</parameter>
  <!--LHCAL Collection of real Hits-->
  <parameter name="LHCALOutputCollection" type="string">LHCAL </parameter>
  <!--Threshold for LHCAL Hits in GeV-->
  <parameter name="LHCALThreshold" type="float">1e-06 </parameter>
  <!--LHCALHit Relation Collection-->
  <parameter name="RelationOutputCollection" type="string">RelationLHcalHit </parameter>
</processor>

<!--######  SimpleMuonDigi ##########################################-->

 <processor name="MySimpleMuonDigi" type="SimpleMuonDigi">
 <!--Performs simple digitization of sim calo hits...-->
  <!--Calibration coefficients for MUON-->
  <parameter name="CalibrMUON" type="FloatVec">10000</parameter>
  <!--MUON Collection Names-->
  <parameter name="MUONCollections" type="StringVec">
   MuonBarrelCollection MuonEndCapCollection</parameter>
  <!--MUON Collection of real Hits-->
  <parameter name="MUONOutputCollection" type="string">MUON </parameter>
  <!--Threshold for MUON Hits in GeV-->
  <parameter name="MUONThreshold" type="float">1e-06 </parameter>
  <!--MuonHit Relation Collection-->
  <parameter name="RelationOutputCollection" type="string">RelationMuonHit </parameter>
</processor>


<!--######  PandoraPFAProcessor ##########################################
  M.Thomson 28.11.2008 (from ild_example_steer.xml)
 -->
  
 <parameter name="AnalysisRootFile" type="string">stdreco_pandora.root</parameter>

 <processor name="MyPandoraPFAProcessor" type="PandoraPFAProcessor">
 <parameter name="PerfectPFA" type="int">0</parameter>
 <parameter name="UsingCheatedTracks" type="int">0</parameter>
 <parameter name="PhotonClustering" type="int">3</parameter>
 <parameter name="UsingMuonHitsAsTailCatcher" type="int">1</parameter>
 <parameter name="UsingMuonHitsToAidClustering" type="int">1</parameter>


<!--
 <parameter name="RelationTrackString" type="string">LDCTracksMCP</parameter>
 <parameter name="TrackCollections" type="string">LDCTracks</parameter>
-->

 <parameter name="RelationTrackString" type="string">LDCTracksMCP</parameter>
 <parameter name="TrackCollections" type="string">LDCTracks</parameter>


<!-- Display -->
  <parameter name="Printing" type="int">1</parameter>
  <parameter name="ShowProtoClusterAssociation" type="int">0</parameter> 
  <parameter name="RecoDisplay" type="int">0</parameter>
  <parameter name="RecoDisplayPlotRange" type="int">3500</parameter>
  <parameter name="ShowProtoClusterFormation" type="int">0</parameter>
  <parameter name="EToPlot" type="float">0.0</parameter>
  <parameter name="AddInEnu" type="int">0</parameter>

<!--Detector Optimisation -->

<!-- Tracking -->
  <parameter name="UseTrackEndIntersection" type="int">0</parameter>
  <parameter name="UseNonVertexTracks" type="int">1</parameter>
  <parameter name="UnmatchedVertexTrackEnergyCut" type="float">5.</parameter>
  <parameter name="SearchForSplitTracks" type="int">1</parameter>
  <parameter name="SearchForV0s" type="int">1</parameter>

<!-- V0 finding 1 = internal (old), 2 = use external V0s -->
  <parameter name="V0Finder" type="int">2</parameter>

<!-- Steering -->
  <parameter name="SelectEvent" type="int">-1</parameter>
  <parameter name="FirstEvent" type="int">0</parameter>

<!-- Collections -->
  <!--Lcal Collection Names --> 
  <parameter name="LCALcollections" type="StringVec">LCAL </parameter>
  <!--Lcal Collection Names --> 
  <parameter name="BCALcollections" type="StringVec">BCAL </parameter>
  <!--Lcal Collection Names --> 
  <parameter name="LHCALcollections" type="StringVec">LHCAL </parameter>
  <!--Ecal Collection Names --> 
  <parameter name="ECALcollections" type="StringVec">ECALBarrel ECALEndcap ECALOther </parameter>
  <!--Hcal Collection Names -->
  <parameter name="HCALcollections" type="StringVec">HCALBarrel HCALEndcap HCALOther </parameter>
  <!--Muon Collection Names -->
  <parameter name="MUONcollections" type="StringVec">MUON </parameter>

<!-- Calibration -->
  <parameter name="ECALMIPcalibration" type="float">160.0  </parameter>
  <parameter name="HCALMIPcalibration" type="float">34.8  </parameter>
  <parameter name="ECALThreshold" type="float">0.5  </parameter>
  <parameter name="HCALThreshold" type="float">0.3  </parameter>
  <parameter name="ECALEMMIPToGeV" type="float">0.00625  </parameter> 
  <parameter name="ECALHadMIPToGeV" type="float">0.00725  </parameter> 
  <parameter name="HCALEMMIPToGeV" type="float">0.0287  </parameter>
  <parameter name="HCALHadMIPToGeV" type="float">0.0287  </parameter>
  <parameter name="DigitalECAL" type="int">0  </parameter>
  <parameter name="DigitalHCAL" type="int">0  </parameter>
  <parameter name="HadronicEnergyResolution" type="float">0.60  </parameter>


<!--Alg config -->
  <parameter name="LayersForDenistyWeighting" type="int">0 </parameter>

<!--ProtoCluster Formation -->
  <parameter name="ClusterFormationStrategy" type="int">0 </parameter>
  <parameter name="LayersToStepBackECAL" type="int">3 </parameter>
  <parameter name="LayersToStepBackHCAL" type="int">3 </parameter>
  <parameter name="ClusterFormationAngleECAL" type="float">0.3 </parameter>
  <parameter name="ClusterFormationAngleHCAL" type="float">0.5 </parameter>
  <parameter name="ClusterFormationPadsECAL" type="float">2.5 </parameter>
  <parameter name="ClusterFormationPadsHCAL" type="float">2.5 </parameter>
  <parameter name="SameLayerPadCutECAL" type="float">2.8 </parameter>
  <parameter name="SameLayerPadCutHCAL" type="float">1.8 </parameter>
  <parameter name="MaximumDistanceForConeAssociationECAL" type="float">250. </parameter>
  <parameter name="MaximumDistanceForConeAssociationHCAL" type="float">500. </parameter>

<!--ProtoCluster Association -->
  <parameter name="TrackMergeCutEcal" type="float">25.</parameter>
  <parameter name="TrackMergeCutHcal" type="float">25.</parameter>
  <parameter name="TrackMergePerpCutEcal" type="float">50.</parameter>
  <parameter name="TrackMergePerpCutHcal" type="float">75.</parameter>

<!-- Isolation cuts -->
  <parameter name="IsolationType" type="int">1 </parameter>
  <parameter name="IsolationDistanceECAL" type="float">25.  </parameter>
  <parameter name="IsolationDistanceHCAL" type="float">200.  </parameter>
  <parameter name="IsolationDensityWeightCutECAL" type="float">0.1  </parameter>
  <parameter name="IsolationDensityWeightCutHCAL" type="float">0.1  </parameter>
  <parameter name="LayersForDensityWeighting" type="int">2</parameter>

<!-- Cluster parameters -->
  <parameter name="IsolationDistanceForReCombination" type="float">250. </parameter>
  <parameter name="MinimumHitsInCluster" type="int">5 </parameter>
  <parameter name="MaximumHitsInSoftCluster" type="int">5 </parameter>
  <parameter name="MinimumClusterEnergyEM" type="float">0.025 </parameter>
  <parameter name="MinimumClusterEnergyHAD" type="float">0.25 </parameter>
  <parameter name="MaximumDistanceForSoftCluster" type="float">250. </parameter>


<!-- hit ordering -->
  <parameter name="TypeOfOrdering" type="int">0  </parameter>

<!-- candidate mip hit definition -->
  <parameter name="MipCells" type="int">2  </parameter>
  <parameter name="MipMaxCellsHit" type="int">1  </parameter>
  <parameter name="MipLikeMipCut" type="float">5.  </parameter>

<!-- algorithm steering -->
 <parameter name="TrackSeeding" type="int">3 </parameter>
 <parameter name="AssociateLoopingTracks" type="int">1  </parameter>
 <parameter name="AssociateTrackSegments" type="int">1  </parameter>
 <parameter name="AssociateShowersToMips" type="int">1  </parameter>
 <parameter name="AssociateShowersToMipsII" type="int">1  </parameter>
 <parameter name="AssociateBackScatters" type="int">1  </parameter>
 <parameter name="AssociateMipStubsToShowers" type="int">1  </parameter>
 <parameter name="AssociateFromStart" type="int">1  </parameter>
 <parameter name="AssociateByProximity" type="int">1  </parameter>
 <parameter name="AssociateByShowerCone" type="int">1  </parameter>
 <parameter name="AssociateSoftClusters" type="int">1  </parameter>
 <parameter name="AllowPhotonFragmentation" type="int">1   </parameter>
 <parameter name="AllowReclustering" type="int">1  </parameter>
 <parameter name="UseAdvancedPhotonID" type="int">1  </parameter>

<!-- use tracks to seed clusters -->
 <parameter name="PhotonFragPhotonDeltaChi2Cut" type="float">1.</parameter>
 <parameter name="PhotonFragNonPhotonDeltaChi2Cut" type="float">0. </parameter>
 <parameter name="ExtraLoopingTrackClusterAssociation" type="int">1</parameter>
 <parameter name="EnergyDeltaChi2ForCrudeMerging" type="float">1.0 </parameter>
 <parameter name="ChiToAttemptReclustering" type="float">2.5 </parameter>
 <parameter name="MatchingChiToKillTrack" type="float">4.0 </parameter>
 <parameter name="CosineConeAngle" type="float">0.9</parameter>
 <parameter name="MergeSoftPhotons" type="int">1  </parameter>
 <parameter name="SoftPhotonMergingEnergy" type="float">0.2</parameter>
 <parameter name="MergeHardPhotons" type="int">1  </parameter>
 <parameter name="TrackClusterAssociationDistance" type="int">10.  </parameter>

 </processor>

<!--################################################ -->

 <processor name="MyPFOID" type="PFOID">
  <!--Performs particle identification-->
  <!--Debugging?-->
  <parameter name="Debug" type="int">0 </parameter>
  <!--Boundaries for energy binning-->
  <parameter name="EnergyBoundaries" type="FloatVec">0 10 1e+07  </parameter>
  <!--Name of files containing pdfs for charged particles-->
  <parameter name="FilePDFName" type="StringVec">
    pdf_charged_lt10.txt pdf_charged_ge10.txt
  </parameter>
  <!--Name of the PFO collection-->
  <parameter name="RecoParticleCollection" type="string">PandoraPFOs</parameter>
  <!--Name of files containing pdfs for neutral particles-->
  <parameter name="neutralFilePDFName" type="StringVec">
      pdf_neutral_lt10.txt pdf_neutral_ge10.txt
  </parameter>
 </processor>

<!--################################################ -->


<group name="JetFinders">

  <parameter name="InputCollection" type="string" lcioInType="ReconstructedParticle"> PandoraPFOs </parameter>

  <parameter name="Mode" type="string" value="DurhamNJet"/>

 <processor name="JetFinder_2Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="2"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_2Jets </parameter>
 </processor>
 <processor name="JetFinder_3Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="3"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_3Jets </parameter>
 </processor>
 <processor name="JetFinder_4Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="4"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_4Jets </parameter>
 </processor>
 <processor name="JetFinder_5Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="5"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_5Jets </parameter>
 </processor>
 <processor name="JetFinder_6Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="6"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_6Jets </parameter>
 </processor>
 <processor name="JetFinder_7Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="7"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle"> Durham_7Jets </parameter>
 </processor>
 <processor name="JetFinder_8Jets" type="SatoruJetFinderProcessor">
  <parameter name="NJetRequested" type="int" value="8"/>
  <parameter name="OutputCollection" type="string" lcioOutType="ReconstructedParticle">  Durham_8Jets </parameter>
 </processor>

</group>
 
 <processor name="MyRecoMCTruthLinker" type="RecoMCTruthLinker">
 <!--links RecontructedParticles to the MCParticle based on number of hits used-->
  <!--Name of the MCParticle input collection-->
  <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle"> MCParticle </parameter>
  <!--Name of the ReconstructedParticles input collection-->
  <parameter name="RecoParticleCollection" type="string" lcioInType="ReconstructedParticle"> PandoraPFOs </parameter>
  <!--Name of the  SimCalorimeterHit - CalorimeterHit relation-->
  <parameter name="SimCalorimeterHitRelationName" type="string" lcioInType="LCRelation"> RelationCaloHit </parameter>
  <!--Name of the  SimTrackerHit - TrackerHit relation-->
  <parameter name="SimTrackerHitRelationName" type="string" lcioInType="LCRelation"> TPCTracksMCP </parameter>
  <!--Name of the skimmed MCParticle  output collection-->
  <parameter name="MCParticlesSkimmedName" type="string" lcioOutType="MCParticle"> MCParticlesSkimmed </parameter>
  <!--Name of the RecoMCTruthLink output collection-->
  <parameter name="RecoMCTruthLinkName" type="string" lcioOutType="LCRelation"> RecoMCTruthLink </parameter>
  <!--PDG codes of particles of which the daughters will be kept in the skimmmed MCParticle collection-->
  <parameter name="KeepDaughtersPDG" type="IntVec"> 22 111 310 13 211 321</parameter>
</processor>

<processor name="MyMCTruthJetEnergy" type="MCTruthJetEnergy">
  <!--MCTruthJetEnergy calculates the MC truth jet energy of the MCParticles associated to the reconstructed particles in the jet-->
  <!--Names of the Jet collections-->
  <parameter name="JetCollectionNames" type="StringVec" lcioInType="ReconstructedParticle">Durham_2Jets Durham_3Jets Durham_4Jets Durham_5Jets Durham_6Jets
  </parameter>
  <!--Name of the ReconstructedParticle-MCParticle  relation collection-->
  <parameter name="MCTruthRelationName" type="string" lcioInType="LCRelation">RecoMCTruthLink </parameter>
</processor>

				
<!-- ===================================== LCFI flavour tag ================================================ -->

<group name="MyTrueAngularJetFlavourProcessorCollection">
   <!--TrueJetFlavourProcessor - Determines the true flavour of a jet from the MC Paticles associated to the Jet Tracks-->
   <!--Name of the MCParticle collection that represents jets-->
   <parameter name="MCParticleCollection" type="string">MCParticle </parameter>
   <!--Maximum value allowed between MCParticle and jet momentum expressed in degrees-->
   <parameter name="MaximumAngle" type="double"> 180 </parameter>
   <processor name="MyTrueAngularJetFlavourProcessor_2Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_2Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_2Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_2Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_2Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_2Jets </parameter>
   </processor>
   <processor name="MyTrueAngularJetFlavourProcessor_3Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_3Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_3Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_3Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_3Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_3Jets </parameter>
   </processor>
   <processor name="MyTrueAngularJetFlavourProcessor_4Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_4Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_4Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_4Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_4Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_4Jets </parameter>
   </processor>
   <processor name="MyTrueAngularJetFlavourProcessor_5Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_5Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_5Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_5Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_5Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_5Jets </parameter>
   </processor>
   <processor name="MyTrueAngularJetFlavourProcessor_6Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_6Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_6Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_6Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_6Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_6Jets </parameter>
   </processor>
   <Xprocessor name="MyTrueAngularJetFlavourProcessor_7Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_7Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_7Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_7Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_7Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_7Jets </parameter>
   </Xprocessor>
   <Xprocessor name="MyTrueAngularJetFlavourProcessor_8Jets" type="TrueAngularJetFlavourProcessor">
     <!--Name of the ReconstructedParticle collection that represents jets-->
     <parameter name="JetRPCollection" type="string">Durham_8Jets </parameter>
     <parameter name="TrueJetFlavourCollection" type="string">TrueJetFlavour_8Jets </parameter>
     <parameter name="TrueJetPDGCodeCollection" type="string">TrueJetPDGCode_8Jets </parameter>
     <parameter name="TrueJetHadronChargeCollection" type="string">TrueJetHadronCharge_8Jets </parameter>
     <parameter name="TrueJetPartonChargeCollection" type="string">TrueJetPartonCharge_8Jets </parameter>
   </Xprocessor>
</group>

<processor name="MyPerEventIPFitterProcessor" type="PerEventIPFitterProcessor">
 <!--Per Event IP fitter - trims tracks to reach probabililty threshold-->
  <!--Manually set default error matrix of the primary vertex (cm) (lower symmetric)-->
  <parameter name="DefaultIPError" type="FloatVec">2.5e-05 0 2.5e-05 0 0 0.0004  </parameter>
  <!--Manually set default position of the IP vertex (cm)-->
  <parameter name="DefaultIPPosition" type="FloatVec">0 0 0  </parameter>
  <!--Name of the ReconstructedParticle collection contains tracks to fit-->
  <parameter name="InputRPCollection" type="string" lcioInType="ReconstructedParticle">IPFitSelectedParticles </parameter>
  <!--Name of the Vertex collection of the output ip vertex-->
  <parameter name="OutputVertexCollection" type="string" lcioOutType="Vertex">IPVertex </parameter>
  <!--Tracks are removed until this threshold is reached-->
  <parameter name="ProbabilityThreshold" type="double">0.01 </parameter>
</processor>

 <processor name="IPRPCutProcessor" type="RPCutProcessor">
 <!--RPCutProcessor - cuts tracks based on several criteria-->
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">PandoraPFOs</parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">IPFitSelectedParticles</parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">false </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
 
  <!--Enable a cut on the value of each tracks chi squared over degrees of freedom-->
  <!--parameter name="a1_Chi2OverDOFEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="a2_Chi2OverDOFCutLowerThan" type="bool">false </parameter-->
  <!--Cut Value-->
  <!--parameter name="a3_Chi2OverDOFCutValue" type="float">10 </parameter-->
  
  <!--Enable a cut on the value of each tracks d0 (no correction for ref point position)-->
  <parameter name="b1_D0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="b2_D0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="b3_D0CutValue" type="float">50 </parameter>
  
  <!--Enable a cut on the value of each tracks d0 Error (sqrt(covariance(d0,d0))-->
  <!--parameter name="c1_D0ErrEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="c2_D0ErrCutLowerThan" type="bool">false </parameter-->
  <!--Cut Value-->
  <!--parameter name="c3_D0ErrCutValue" type="float">0.025 </parameter-->
  
  <!--Enable a cut on the value of each tracks Z0 (no correction for ref point position)-->
  <parameter name="d1_Z0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="d2_Z0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="d3_Z0CutValue" type="float">50 </parameter>
  
  <!--Enable a cut on the value of each tracks z0 Error (sqrt(covariance(z0,z0))-->
  <!--parameter name="e1_Z0ErrEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="e2_Z0ErrCutLowerThan" type="bool">true </parameter-->
  <!--Cut Value-->
  <!--parameter name="e3_Z0ErrCutValue" type="float">0.025 </parameter-->
  
  <!--Enable a cut on the value of each tracks PT (radial magnitude of ReconstructedParticle->momentum())-->
  <!--parameter name="f1_PTEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="f2_PTCutLowerThan" type="bool">true </parameter-->
  <!--Cut Value-->
  <!--parameter name="f3_PTCutValue" type="float">0.1 </parameter-->
  
  <!--Enable a cut on the number seen hits in sub detectors - for more details see documentation-->
  <!--parameter name="g1_DetectorHitsEnable" type="bool">false </parameter-->
  <!--Sub detector names in same order as result of Track->getSubdetectorHitNumbers()-->
  <!--parameter name="g2_SubDetectorNames" type="StringVec">VTX FTD SIT TPC </parameter-->
  <!--Sub detector names of detectors defining the boundary between region 1 and region 2-->
  <!--parameter name="g3_DetectorHitsBoundaryDetectorNames" type="StringVec">TPC FTD  </parameter-->
  <!--Corresponding to the order of DetectorHitsBoundaryDetectorNames the max number of hits for each detector for region 1, if any of the sub detectors has a higher number of hits then region 2 is used-->
  <!--parameter name="g4_DetectorHitsBoundaryCuts" type="IntVec">20 3  </parameter-->
  <!--Sub detector names of detectors used for cutting in region 1-->
  <!--parameter name="g5_DetectorHitsRegion1DetectorNames" type="StringVec">VTX  </parameter-->
  <!--Corresponding to the order of DetectorHitsRegion1DetectorNames the minimum number of hits for region 1 for a track to pass-->
  <!--parameter name="g6_DetectorHitsRegion1Cuts" type="IntVec">3  </parameter-->
  <!--Sub detector names of detectors used for cutting in region 2-->
  <!--parameter name="g7_DetectorHitsRegion2DetectorNames" type="StringVec">VTX  </parameter-->
  <!--Corresponding to the order of DetectorHitsRegion2DetectorNames the minimum number of hits for region 2 for a track to pass-->
  <!--parameter name="g8_DetectorHitsRegion2Cuts" type="IntVec">0  </parameter-->
  
  <!--Enable a cut on the PDG code of the Monte Carlo particle associated with the track. Set the codes to cut on in CutPIDS and the LCRelation collection name to the MC data in MonteCarloLCRelationCollection-->
  <parameter name="h1_MCPIDEnable" type="bool">false </parameter>
  <!--A list of all the PDG codes of the associated Monte Carlo particle to cut-->
  <!--parameter name="h2_CutPIDS" type="IntVec">0  </parameter-->
  <!--Name of the LCRelation collection which links InputRCPCollection to the Monte Carlo data. Required only if MCPIDEnable is true-->
  <parameter name="h3_MonteCarloLCRelationCollection" type="string" lcioInType="LCRelation">NotNeeded </parameter>
  <!--Enable a cut on tracks with NaN parameters or covariances-->
  <parameter name="i1_BadParametersEnable" type="bool">true </parameter>
   
  </processor> 
<group name="ZVRESRPCutProcessorCollection">
 <!--RPCutProcessor - cuts tracks based on several criteria--> 
  <!--Enable a cut on the value of each tracks chi squared over degrees of freedom-->
  <!--parameter name="a1_Chi2OverDOFEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="a2_Chi2OverDOFCutLowerThan" type="bool">false </parameter-->
  <!--Cut Value-->
  <!--parameter name="a3_Chi2OverDOFCutValue" type="float">10 </parameter-->
  
  <!--Enable a cut on the value of each tracks d0 (no correction for ref point position)-->
  <parameter name="b1_D0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="b2_D0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="b3_D0CutValue" type="float">10 </parameter>
  
  <!--Enable a cut on the value of each tracks d0 Error (sqrt(covariance(d0,d0))-->
  <parameter name="c1_D0ErrEnable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="c2_D0ErrCutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="c3_D0ErrCutValue" type="float">0.25 </parameter>
  
  <!--Enable a cut on the value of each tracks Z0 (no correction for ref point position)-->
  <parameter name="d1_Z0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="d2_Z0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="d3_Z0CutValue" type="float">20 </parameter>
  
  <!--Enable a cut on the value of each tracks z0 Error (sqrt(covariance(z0,z0))-->
  <!--parameter name="e1_Z0ErrEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="e2_Z0ErrCutLowerThan" type="bool">true </parameter-->
  <!--Cut Value-->
  <!--parameter name="e3_Z0ErrCutValue" type="float">0.025 </parameter-->
  
  <!--Enable a cut on the value of each tracks PT (radial magnitude of ReconstructedParticle->momentum())-->
  <parameter name="f1_PTEnable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="f2_PTCutLowerThan" type="bool">true </parameter>
  <!--Cut Value-->
  <parameter name="f3_PTCutValue" type="float">0.1 </parameter>
  
  <!--Enable a cut on the number seen hits in sub detectors - for more details see documentation-->
  <parameter name="g1_DetectorHitsEnable" type="bool">true </parameter>
  <!--Sub detector names in same order as result of Track->getSubdetectorHitNumbers()-->
  <parameter name="g2_SubDetectorNames" type="StringVec">VTX FTD SIT TPC </parameter>
  <!--Sub detector names of detectors defining the boundary between region 1 and region 2-->
  <parameter name="g3_DetectorHitsBoundaryDetectorNames" type="StringVec">TPC FTD  </parameter>
  <!--Corresponding to the order of DetectorHitsBoundaryDetectorNames the max number of hits for each detector for region 1, if any of the sub detectors has a higher number of hits then region 2 is used-->
  <parameter name="g4_DetectorHitsBoundaryCuts" type="IntVec">20 3  </parameter>
  <!--Sub detector names of detectors used for cutting in region 1-->
  <parameter name="g5_DetectorHitsRegion1DetectorNames" type="StringVec">VTX  </parameter>
  <!--Corresponding to the order of DetectorHitsRegion1DetectorNames the minimum number of hits for region 1 for a track to pass-->
  <parameter name="g6_DetectorHitsRegion1Cuts" type="IntVec">3  </parameter>
  <!--Sub detector names of detectors used for cutting in region 2-->
  <parameter name="g7_DetectorHitsRegion2DetectorNames" type="StringVec">VTX  </parameter>
  <!--Corresponding to the order of DetectorHitsRegion2DetectorNames the minimum number of hits for region 2 for a track to pass-->
  <parameter name="g8_DetectorHitsRegion2Cuts" type="IntVec">0  </parameter>
  
  <!--Enable a cut on the PDG code of the parent of Monte Carlo particle associated with the track. Set the codes to cut on in CutPIDS and the LCRelation collection name to the MC data in MonteCarloLCRelationCollection"-->
  <parameter name="h1_MCPIDEnable" type="bool">false </parameter>
  <!--A list of all the PDG codes of the parent Monte Carlo particle to cut-->
  <parameter name="h2_CutPIDS" type="IntVec">310 -310 3122 -3122  </parameter>
  <!--Name of the LCRelation collection which links InputRCPCollection to the Monte Carlo data. Required only if MCPIDEnable is true-->
  <parameter name="h3_MonteCarloLCRelationCollection" type="string" lcioInType="LCRelation">LDCTracksMCP </parameter>
  <!--Enable a cut on tracks with NaN parameters or covariances-->
  <parameter name="i1_BadParametersEnable" type="bool">true </parameter>

<processor name="ZVRESRPCutProcessor_2Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_2Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_2Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="ZVRESRPCutProcessor_3Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_3Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_3Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="ZVRESRPCutProcessor_4Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_4Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_4Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="ZVRESRPCutProcessor_5Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_5Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_5Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="ZVRESRPCutProcessor_6Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_6Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_6Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<Xprocessor name="ZVRESRPCutProcessor_7Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_7Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_7Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</Xprocessor>
<Xprocessor name="ZVRESRPCutProcessor_8Jets" type="RPCutProcessor">
 <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_8Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">ZVRESSelected_8Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
 </Xprocessor>

</group>

 <group name="MyZVTOP_ZVRESCollection">
 <!--ZVTOP-ZVRES - Vertex Reconstruction Algorithm-->
  <!--Weight of the IP in the Vertex Function-->
  <!--parameter name="IPWeighting" type="double">1 </parameter-->
  <!--Scaling factor for Weight of the jet direction in the Vertex Function-->
  <!--parameter name="JetWeightingEnergyScaling" type="double">0.125 </parameter-->
  <!--If false then the primary vertex from VertexCollection is used-->
  <parameter name="ManualIPVertex" type="bool">true </parameter>
  <!--Manually set error matrix of the primary vertex (cm) (lower symmetric)-->
  <parameter name="ManualIPVertexError" type="FloatVec">2.5e-05 0 2.5e-05 0 0 0.0004  </parameter>
  <!--Manually set position of the primary vertex (cm) - non origin IP not yet fully supported-->
  <parameter name="ManualIPVertexPosition" type="FloatVec">0 0 0  </parameter>
  <!--Cut to determine if two vertices are resolved-->
  <!--parameter name="ResolverCut" type="double">0.6 </parameter-->
  <!--Chi Squared cut for final trimming of tracks from vertices-->
  <!--parameter name="TrackTrimCut" type="double">10 </parameter-->
  <!--Chi Squared cut for making initial track pairs - chi squared of either track NOT sum-->
  <!--parameter name="TwoTrackCut" type="double">10 </parameter-->
  <!--Name of the Vertex collection that contains the primary vertex (Optional)-->
  <parameter name="IPVertexCollection" type="string" lcioInType="Vertex">IPVertex </parameter>

 <processor name="MyZVTOP_ZVRES_2Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_2Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_2Jets </parameter>  
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_2Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_2Jets </parameter>
</processor>
 <processor name="MyZVTOP_ZVRES_3Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_3Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_3Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_3Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_3Jets </parameter>
</processor>
 <processor name="MyZVTOP_ZVRES_4Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_4Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_4Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_4Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_4Jets </parameter>
</processor>
 <processor name="MyZVTOP_ZVRES_5Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_5Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_5Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_5Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_5Jets </parameter>
</processor>
 <processor name="MyZVTOP_ZVRES_6Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_6Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_6Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_6Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_6Jets </parameter>
</processor>

 <Xprocessor name="MyZVTOP_ZVRES_7Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_7Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_7Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_7Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_7Jets </parameter>
</Xprocessor>
 <Xprocessor name="MyZVTOP_ZVRES_8Jets" type="ZVTOP_ZVRESProcessor">
  <!--Name of the ReconstructedParticle collection that holds RPs representing output decay chains-->
  <parameter name="DecayChainCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChains_8Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents tracks in output decay chains-->
  <parameter name="DecayChainRPTracksCollectionName" type="string" lcioOutType="ReconstructedParticle">ZVRESDecayChainRPTracks_8Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESSelected_8Jets </parameter>
  <!--Name of the Vertex collection that contains found vertices-->
  <parameter name="VertexCollection" type="string" lcioOutType="Vertex">ZVRESVertices_8Jets </parameter>
</Xprocessor>
</group>

<group name="FTRPCutProcessorCollection">
 <!--RPCutProcessor - cuts tracks based on several criteria-->  
  <!--Enable a cut on the value of each tracks chi squared over degrees of freedom-->
  <!--parameter name="a1_Chi2OverDOFEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="a2_Chi2OverDOFCutLowerThan" type="bool">false </parameter-->
  <!--Cut Value-->
  <!--parameter name="a3_Chi2OverDOFCutValue" type="float">10 </parameter-->
  
  <!--Enable a cut on the value of each tracks d0 (no correction for ref point position)-->
  <parameter name="b1_D0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="b2_D0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="b3_D0CutValue" type="float">20 </parameter>
  
  <!--Enable a cut on the value of each tracks d0 Error (sqrt(covariance(d0,d0))-->
  <!--parameter name="c1_D0ErrEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="c2_D0ErrCutLowerThan" type="bool">false </parameter-->
  <!--Cut Value-->
  <!--parameter name="c3_D0ErrCutValue" type="float">0.025 </parameter-->
  
  <!--Enable a cut on the value of each tracks Z0 (no correction for ref point position)-->
  <parameter name="d1_Z0Enable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="d2_Z0CutLowerThan" type="bool">false </parameter>
  <!--Cut Value-->
  <parameter name="d3_Z0CutValue" type="float">20 </parameter>
  
  <!--Enable a cut on the value of each tracks z0 Error (sqrt(covariance(z0,z0))-->
  <!--parameter name="e1_Z0ErrEnable" type="bool">false </parameter-->
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <!--parameter name="e2_Z0ErrCutLowerThan" type="bool">true </parameter-->
  <!--Cut Value-->
  <!--parameter name="e3_Z0ErrCutValue" type="float">0.025 </parameter-->
  
  <!--Enable a cut on the value of each tracks PT (radial magnitude of ReconstructedParticle->momentum())-->
  <parameter name="f1_PTEnable" type="bool">true </parameter>
  <!--If true values lower than the cut value will be cut, if false values higher will be cut-->
  <parameter name="f2_PTCutLowerThan" type="bool">true </parameter>
  <!--Cut Value-->
  <parameter name="f3_PTCutValue" type="float">0.1 </parameter>
  
  <!--Enable a cut on the number seen hits in sub detectors - for more details see documentation-->
  <parameter name="g1_DetectorHitsEnable" type="bool">true </parameter>
  <!--Sub detector names in same order as result of Track->getSubdetectorHitNumbers()-->
  <parameter name="g2_SubDetectorNames" type="StringVec">VTX FTD SIT TPC </parameter>
  <!--Sub detector names of detectors defining the boundary between region 1 and region 2-->
  <parameter name="g3_DetectorHitsBoundaryDetectorNames" type="StringVec">TPC FTD  </parameter>
  <!--Corresponding to the order of DetectorHitsBoundaryDetectorNames the max number of hits for each detector for region 1, if any of the sub detectors has a higher number of hits then region 2 is used-->
  <parameter name="g4_DetectorHitsBoundaryCuts" type="IntVec">20 3  </parameter>
  <!--Sub detector names of detectors used for cutting in region 1-->
  <parameter name="g5_DetectorHitsRegion1DetectorNames" type="StringVec">VTX  </parameter>
  <!--Corresponding to the order of DetectorHitsRegion1DetectorNames the minimum number of hits for region 1 for a track to pass-->
  <parameter name="g6_DetectorHitsRegion1Cuts" type="IntVec">3  </parameter>
  <!--Sub detector names of detectors used for cutting in region 2-->
  <parameter name="g7_DetectorHitsRegion2DetectorNames" type="StringVec">VTX  </parameter>
  <!--Corresponding to the order of DetectorHitsRegion2DetectorNames the minimum number of hits for region 2 for a track to pass-->
  <parameter name="g8_DetectorHitsRegion2Cuts" type="IntVec">0  </parameter>
  
  <!--Enable a cut on the PDG code of the Monte Carlo particle associated with the track. Set the codes to cut on in CutPIDS and the LCRelation collection name to the MC data in MonteCarloLCRelationCollection-->
  <parameter name="h1_MCPIDEnable" type="bool">false </parameter>
  <!--A list of all the PDG codes of the parent Monte Carlo particle to cut-->
  <parameter name="h2_CutPIDS" type="IntVec">310 -310 3122 -3122  </parameter>
  <!--Name of the LCRelation collection which links InputRCPCollection to the Monte Carlo data. Required only if MCPIDEnable is true-->
  <parameter name="h3_MonteCarloLCRelationCollection" type="string" lcioInType="LCRelation">LDCTracksMCP</parameter>
  <!--Enable a cut on tracks with NaN parameters or covariances-->
  <parameter name="i1_BadParametersEnable" type="bool">true </parameter>

<processor name="FTRPCutProcessor_2Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_2Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_2Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="FTRPCutProcessor_3Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_3Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_3Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="FTRPCutProcessor_4Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_4Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_4Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="FTRPCutProcessor_5Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_5Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_5Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<processor name="FTRPCutProcessor_6Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_6Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_6Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</processor>
<Xprocessor name="FTRPCutProcessor_7Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_7Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_7Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</Xprocessor>
<Xprocessor name="FTRPCutProcessor_8Jets" type="RPCutProcessor">
  <!--Name of the ReconstructedParticle collection which will be cut-->
  <parameter name="InputRCPCollection" type="string" lcioInType="ReconstructedParticle">Durham_8Jets </parameter>
  <!--Name of the output ReconstructedParticle collection when WriteNewCollection is true-->
  <parameter name="OutputRCPCollection" type="string" lcioOutType="ReconstructedParticle">FTSelected_8Jets </parameter>
  <!--If true cuts tracks from the particle lists of particles in InputRCPCollection, if false just cuts particles from InputRCPCollection-->
  <parameter name="SubParticleLists" type="bool">true </parameter>
  <!--Name of the Track collection - this is just used to get the sub dectector indices-->
  <parameter name="WriteNewCollection" type="bool">true </parameter>
</Xprocessor>
</group>

<group name="MyFlavourTagInputsProcessorCollection">
  <!--FlavourTagInputsProcessor - takes a set of vertices as a decay chain with its associated jet and calculates flavour tag inputs stroring them in the Jet RP's pid-->
  <!--Momentum cuts will be applied on number of LayersHit and LayersHit minus one-->
  <!--parameter name="LayersHit" type="double">5 </parameter-->   
  <!--Cut on the minimum momentum if track hits LayersHit-->
  <!--parameter name="AllLayersMomentumCut" type="double">1 </parameter-->
  <!--Cut on the minimum momentum if track hits LayersHit minus one-->
  <!--parameter name="AllbutOneLayersMomentumCut" type="double">2 </parameter-->
  <!--Upper cut on track distance of closest approach to the seed axis for the B-Charge -->
  <!--parameter name="BChargeCloseapproachCut" type="double">1 </parameter-->
  <!--Cut determining the maximum L/D for the B-Charge-->
  <!--parameter name="BChargeLoDCutmax" type="double">2.5 </parameter-->
  <!--Cut determining the minimum L/D for the B-Charge-->
  <!--parameter name="BChargeLoDCutmin" type="double">0.18 </parameter-->
  <!--Upper cut on track distance of closest approach to the seed axis for the C-Charge -->
  <!--parameter name="CChargeCloseapproachCut" type="double">1 </parameter-->
  <!--Cut determining the maximum L/D for the C-Charge-->
  <!--parameter name="CChargeLoDCutmax" type="double">2.5 </parameter-->
  <!--Cut determining the minimum L/D for the C-Charge-->
  <!--parameter name="CChargeLoDCutmin" type="double">0.5 </parameter-->
  <!--Upper Cut on the maximum value of d0 significance-->
  <!--parameter name="JProbMaxD0Significance" type="double">200 </parameter-->
  <!--Upper Cut on the maximum value of d0 and of z0-->
  <!--parameter name="JProbMaxD0andZ0" type="double">5 </parameter-->
  <!--Momentum cuts will be applied on number of LayersHit and LayersHit minus one-->
  <!--parameter name="LayersHit" type="double">5 </parameter-->
  <!--Cut on the Chi squared of the two tracks beinig in the same vertex.-->
  <!--parameter name="PIDChi2Cut" type="double">6.63 </parameter-->
  <!--Cut on the upper limit of the photon candidate mass-->
  <!--parameter name="PIDMaxGammaMass" type="double">0.02 </parameter-->
  <!--Cut on the upper limit of the Ks candidate mass-->
  <!--parameter name="PIDMaxKsMass" type="double">0.525 </parameter-->
  <!--Cut on the lower limit of the Ks candidate mass-->
  <!--parameter name="PIDMinKsMass" type="double">0.475 </parameter-->
  <!--Cut on the maximum RPhi of the Ks/gamma decay vertex candidate-->
  <!--parameter name="PIDRPhiCut" type="double">20 </parameter-->
  <!--Cut on the minimum RPhi significance of the tracks-->
  <!--parameter name="PIDSignificanceCut" type="double">3 </parameter-->
  <!--Cut on the minimum number of tracks in the seed vertex.-->
  <!--parameter name="SecondVertexNtrackscut" type="double">1 </parameter-->
  <!--Cut on the Chi Squared of the seed vertex-->
  <!--parameter name="SecondVertexProbChisquarecut" type="double">20 </parameter-->
  <!--Upper cut on track distance of closest approach to the seed axis for the track attachment-->
  <!--parameter name="TrackAttachCloseapproachCut" type="double">1 </parameter-->
  <!--Cut determining the maximum L/D for the track attachment-->
  <!--parameter name="TrackAttachLoDCutmax" type="double">2.5 </parameter-->
  <!--Cut determining the minimum L/D for the track attachment-->
  <!--parameter name="TrackAttachLoDCutmin" type="double">0.18 </parameter-->
  <!--Maximum Sigma (based on error matrix) that the vertex axis can move when kinematic correction is applied-->
  <!--parameter name="VertexMassMaxKinematicCorrectionSigma" type="double">2 </parameter-->
  <!--Upper cut on angle between momentum of vertex and the vertex axis-->
  <!--parameter name="VertexMassMaxMomentumAngle" type="double">3 </parameter-->
  <!--Maximum factor, by which vertex mass can be corrected-->
  <!--parameter name="VertexMassMaxMomentumCorrection" type="double">2 </parameter-->
  <!--Name of the Vertex collection that contains the primary vertex (Optional)-->
  <parameter name="IPVertexCollection" type="string" lcioInType="Vertex">IPVertex </parameter> 
  <!-- Parameters for the joint probabilities ILD_00 -->
  <parameter name="JProbResolutionParameterRphi" type="FloatVec">  0.943512 0.191583 0.334776 0.168117 0.0196978 </parameter>
  <parameter name="JProbResolutionParameterZ"    type="FloatVec">  1.09571  0.220066 0.292588 0.15417  0.0251253 </parameter>


<processor name="MyFlavourTagInputsProcessor_2Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_2Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_2Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_2Jets </parameter>
</processor>
<processor name="MyFlavourTagInputsProcessor_3Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_3Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_3Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_3Jets </parameter>
</processor>
<processor name="MyFlavourTagInputsProcessor_4Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_4Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_4Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_4Jets </parameter>
</processor>
<processor name="MyFlavourTagInputsProcessor_5Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_5Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_5Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_5Jets </parameter>
</processor>
<processor name="MyFlavourTagInputsProcessor_6Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_6Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_6Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_6Jets </parameter>
</processor>
<Xprocessor name="MyFlavourTagInputsProcessor_7Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_7Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_7Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_7Jets </parameter>
</Xprocessor>
<Xprocessor name="MyFlavourTagInputsProcessor_8Jets" type="FlavourTagInputsProcessor">
 <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_8Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioOutType="LCFloatVec">FlavourTagInputs_8Jets </parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_8Jets </parameter>
</Xprocessor>
</group>


 <group name="MyFlavourTagCollection">
 <!--Performs a flavour tag using previously trained neural nets-->
  <!--Filename of the previously trained 1 vertex b-tag net-->
  <parameter name="Filename-b_net-1vtx" type="string">nets/b_net-1vtx.xml</parameter>
  <!--Filename of the previously trained 2 vertex b-tag net-->
  <parameter name="Filename-b_net-2vtx" type="string">nets/b_net-2vtx.xml</parameter>
  <!--Filename of the previously trained 3 (or more) vertex b-tag net-->
  <parameter name="Filename-b_net-3plusvtx" type="string">nets/b_net-3vtx.xml</parameter>
  <!--Filename of the previously trained 1 vertex c-tag (b background only) net-->
  <parameter name="Filename-bc_net-1vtx" type="string"> nets/bc_net-1vtx.xml</parameter>
  <!--Filename of the previously trained 2 vertex c-tag (b background only) net-->
  <parameter name="Filename-bc_net-2vtx" type="string"> nets/bc_net-2vtx.xml</parameter>
  <!--Filename of the previously trained 3 (or more) vertex c-tag (b background only) net-->
  <parameter name="Filename-bc_net-3plusvtx" type="string">nets/bc_net-3vtx.xml </parameter>
  <!--Filename of the previously trained 1 vertex c-tag net-->
  <parameter name="Filename-c_net-1vtx" type="string"> nets/c_net-1vtx.xml</parameter>
  <!--Filename of the previously trained 2 vertex c-tag net-->
  <parameter name="Filename-c_net-2vtx" type="string">nets/c_net-2vtx.xml </parameter>
  <!--Filename of the previously trained 3 (or more) vertex c-tag net-->
  <parameter name="Filename-c_net-3plusvtx" type="string"> nets/c_net-3vtx.xml</parameter>

<processor name="MyFlavourTag_2Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_2Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_2Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_2Jets </parameter>
</processor>
<processor name="MyFlavourTag_3Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_3Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_3Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_3Jets </parameter>
</processor>
<processor name="MyFlavourTag_4Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_4Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_4Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_4Jets </parameter>
</processor>
<processor name="MyFlavourTag_5Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_5Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_5Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_5Jets </parameter>
</processor>
<processor name="MyFlavourTag_6Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_6Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_6Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_6Jets </parameter>
</processor>
<Xprocessor name="MyFlavourTag_7Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_7Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_7Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_7Jets </parameter>
</Xprocessor>
<Xprocessor name="MyFlavourTag_8Jets" type="FlavourTag">
  <!--Name of the collection of ReconstructedParticles that is the jet-->
  <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">FTSelected_8Jets </parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag result-->
  <parameter name="FlavourTagCollection" type="string" lcioOutType="LCFloatVec">FlavourTag_8Jets </parameter>
  <!--Name of the LCFloatVec Collection that contains the flavour tag inputs (in same order as jet collection)-->
  <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_8Jets </parameter>
</Xprocessor>
</group>


 <group name="BVertexChargeCollection">
 <!--VertexChargeProcessor - takes a set of vertices as a decay chain with its associated jet and calculates the vertex charge.-->
  <!--Parameter determining whether all tracks from secondary are included in the B-Charge-->
  <!--parameter name="ChargeAllSecondaryTracks" type="bool">true </parameter-->
  <!--Upper cut on track distance of closest approach to the seed axis for the B-Charge -->
  <!--parameter name="ChargeCloseapproachCut" type="double">1 </parameter-->
  <!--Cut determining the maximum L/D for the B-Charge-->
  <!--parameter name="ChargeLoDCutmax" type="double">2.5 </parameter-->
  <!--Cut determining the minimum L/D for the B-Charge-->
  <!--parameter name="ChargeLoDCutmin" type="double">0.18 </parameter-->
  <!--Name of the Vertex collection that contains the primary vertex (Optional)-->
  <parameter name="IPVertexCollection" type="string" lcioInType="Vertex">IPVertex </parameter>

<processor name="BVertexChargeProcessor_2Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_2Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_2Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_2Jets </parameter>
</processor>

<processor name="BVertexChargeProcessor_3Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_3Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_3Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_3Jets </parameter>
</processor>

<processor name="BVertexChargeProcessor_4Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_4Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_4Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_4Jets </parameter>
</processor>

<processor name="BVertexChargeProcessor_5Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_5Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_5Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_5Jets </parameter>
</processor>

<processor name="BVertexChargeProcessor_6Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_6Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_6Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_6Jets </parameter>
</processor>
<Xprocessor name="BVertexChargeProcessor_7Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_7Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_7Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_7Jets </parameter>
</Xprocessor>

<Xprocessor name="BVertexChargeProcessor_8Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_8Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_8Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">BCharge_8Jets </parameter>
</Xprocessor>
</group>


 <group name="CVertexChargeCollection">
 <!--VertexChargeProcessor - takes a set of vertices as a decay chain with its associated jet and calculates the vertex charge.-->
  <!--Parameter determining whether all tracks from secondary are included in the C-Charge-->
  <parameter name="ChargeAllSecondaryTracks" type="bool">false </parameter>
  <!--Upper cut on track distance of closest approach to the seed axis for the C-Charge -->
  <parameter name="ChargeCloseapproachCut" type="double">1 </parameter>
  <!--Cut determining the maximum L/D for the C-Charge-->
  <parameter name="ChargeLoDCutmax" type="double">2.5 </parameter>
  <!--Cut determining the minimum L/D for the C-Charge-->
  <parameter name="ChargeLoDCutmin" type="double">0.5 </parameter>
  <!--Name of the Vertex collection that contains the primary vertex (Optional)-->
  <parameter name="IPVertexCollection" type="string" lcioInType="Vertex">IPVertex </parameter>

<processor name="CVertexChargeProcessor_2Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_2Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_2Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_2Jets </parameter>
</processor>

<processor name="CVertexChargeProcessor_3Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_3Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_3Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_3Jets </parameter>
</processor>

<processor name="CVertexChargeProcessor_4Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_4Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_4Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_4Jets </parameter>
</processor>

<processor name="CVertexChargeProcessor_5Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_5Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_5Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_5Jets </parameter>
</processor>

<processor name="CVertexChargeProcessor_6Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_6Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_6Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_6Jets </parameter>
</processor>
<Xprocessor name="CVertexChargeProcessor_7Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_7Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_7Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_7Jets </parameter>
</Xprocessor>

<Xprocessor name="CVertexChargeProcessor_8Jets" type="VertexChargeProcessor">
  <!--Name of the ReconstructedParticle collection that represents decay chains-->
  <parameter name="DecayChainRPCollection" type="string" lcioInType="ReconstructedParticle">ZVRESDecayChains_8Jets</parameter>
  <!--Name of the ReconstructedParticle collection that represents jets-->
  <parameter name="JetRPCollection" type="string" lcioInType="ReconstructedParticle">FTSelected_8Jets</parameter>
  <!--Name of the LCFloatVec Collection that will be created to contain the flavour tag inputs-->
  <parameter name="VertexChargeCollection" type="string" lcioOutType="LCFloatVec">CCharge_8Jets </parameter>
</Xprocessor>
</group>


<group name="DSTFlavourTag">

  <!-- DSTCollectionProcessors - Takes the flavour tag info, mc truth info, and some NN  input info, 
       and adds it as Particle ID info to the jets, for the DSTs -->

  <parameter name="Debug" type="int">0 </parameter>

  <processor name="DSTFlavourTag_2Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_2Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_2Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_2Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_2Jets </parameter>
  </processor>
  <processor name="DSTFlavourTag_3Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_3Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_3Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_3Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_3Jets </parameter>
  </processor>
  <processor name="DSTFlavourTag_4Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_4Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_4Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_4Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_4Jets </parameter>
  </processor>
  <processor name="DSTFlavourTag_5Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_5Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_5Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_5Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_5Jets </parameter>
  </processor>
  <processor name="DSTFlavourTag_6Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_6Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_6Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_6Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_6Jets </parameter>
</processor>
  <Xprocessor name="DSTFlavourTag_7Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_7Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_7Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_7Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_7Jets </parameter>
  </Xprocessor>
  <Xprocessor name="DSTFlavourTag_8Jets" type="DSTCollectionProcessor">
    <parameter name="FlavourTagCollection" type="string" lcioInType="LCFloatVec">FlavourTag_8Jets </parameter>
    <parameter name="FlavourTagInputsCollection" type="string" lcioInType="LCFloatVec">FlavourTagInputs_8Jets </parameter>
    <parameter name="JetCollectionName" type="string" lcioInType="ReconstructedParticle">Durham_8Jets </parameter>
    <parameter name="TrueJetFlavourCollection" type="string" lcioInType="LCFloatVec">TrueJetFlavour_8Jets </parameter>
  </Xprocessor>
</group>



<!-- =================================== end LCFI flavour tag ================================================ -->

</marlin>
