<!-- 
  Top level Marlin steering file defining the ILD reconstruction chain.
  
  !! WARNING !! This file may have been generated from 'Marlin -n MarlinstdReco.xml'. 
  In this case you will find that : 
  - no <include ref="..."> element is present
  - some values differ between the constants section and the actual values in the global section or the processor parameter (e.g the compact file).
    In this case, please refer to values in the global section or the processor parameters and not the constants section ! 
  
  Mandatory parameters :
    * global.LCIOInputFiles : The input lcio input file(s)
    * constant.lcgeo_DIR : the lcgeo directory must point on the one sourced in your current ilcsoft
  
  Optional parameters :
    * constant.DetectorModel : the detector model to use the pre-defined lcgeo_DIR as ${lcgeo_DIR}/ILD/compact/${DetectorModel}/${DetectorModel}.xml
    * constant.RunOverlay250GeV (350, 500 or 1000 GeV) : whether to run the background overlay. If set to true, you must ensure that the overlay background files are correctly set 
    * constant.PandoraSettingsFile : The pandora settings file to use
    * constant.PidPDFFile : A single root file name for the PID likelihood processor
    * constant.PidWeightFiles : A list (space separated) of XML files containing weights for low momentum pi/mu separation (from TMVA)

  Author : Victor, DESY
-->
<marlin>
    <constants>
        <!-- ***** Global constant for reconstruction ***** -->
        <!-- The lcgeo directory where to look for the ILD model -->
        <constant name="lcgeo_DIR" value="/path/to/lcgeo_DIR" />
        <!-- ILD detector model -->
        <constant name="DetectorModel" value="ILD_l5_o1_v09" />
        <!-- The full compact file name -->
        <constant name="CompactFile" value="${lcgeo_DIR}/ILD/compact/${DetectorModel}/${DetectorModel}.xml" />
        <!-- ILD calibration file -->
        <constant name="CalibrationFile" value="Calibration/Calibration_${DetectorModel}.xml" />
        <!-- Whether to run the overlay background -->
        <!-- WARNING : By setting this value to true (or True), you must ensure that the overlay files are set in the processor parameters -->
        <constant name="RunOverlay" value="false" />
        <!-- The center of mass energy (unit GeV). Mainly used for background overlay -->
        <constant name="CMSEnergy" value="Unknown" />
        <!-- The energy dependant parameters file to include -->
        <constant name="EnergyParametersFile" value="Config/Parameters${CMSEnergy}GeV.xml" />
        <!--Whether to run the BeamCal reconstruction-->
        <constant name="RunBeamCalReco" value="true" />
        <!--The BeamCal calibration constant, sim hit energy to calibrated calo hit energy-->
        <constant name="BeamCalCalibrationFactor">79.6</constant>
        <!--Flag to run differently the PFA, use value Perfect to run MCtruePFA-->
        <constant name="PFAtype" value="_SiILD" />
        <!-- ***** Input files constants ***** -->
        <!-- Geometry model dependant calibration constants from external file -->
        <constant name="EcalBarrelMip">0.0001575</constant>
        <constant name="EcalEndcapMip">0.0001575</constant>
        <constant name="EcalRingMip">0.0001575</constant>
        <constant name="HcalBarrelMip">0.0004925</constant>
        <constant name="HcalEndcapMip">0.0004725</constant>
        <constant name="HcalRingMip">0.0004875</constant>
        <constant name="EcalBarrelEnergyFactors">0.0063520964756 0.012902699188</constant>
        <constant name="EcalEndcapEnergyFactors">0.0067218419842 0.013653744940</constant>
        <constant name="EcalRingEnergyFactors">0.0066536339 0.0135151972</constant>
        <constant name="HcalBarrelEnergyFactors">0.0287783798145</constant>
        <constant name="HcalEndcapEnergyFactors">0.0285819096797</constant>
        <constant name="HcalRingEnergyFactors">0.0349940637704</constant>
        <constant name="MuonCalibration">56.7</constant>
        <constant name="PandoraEcalToMip">153.846</constant>
        <constant name="PandoraHcalToMip">37.1747</constant>
        <constant name="PandoraMuonToMip">10.5263</constant>
        <constant name="PandoraEcalToEMScale">1.0</constant>
        <constant name="PandoraHcalToEMScale">1.0</constant>
        <constant name="PandoraEcalToHadBarrelScale">1.17344504717</constant>
        <constant name="PandoraEcalToHadEndcapScale">1.17344504717</constant>
        <constant name="PandoraHcalToHadScale">1.02821419758</constant>
        <constant name="PandoraSoftwareCompensationWeights">1.59121 -0.0281982 0.000250616 -0.0424222 0.000335128 -2.06112e-05 0.148549 0.199618 -0.0697277</constant>
        <constant name="ApplyPhotonPFOCorrections" value="true" />
        <constant name="EcalTechnology" value="SiWEcal" />
        <constant name="HcalTechnology" value="AHcal" />
        <constant name="PandoraSettingsFile" value="PandoraSettings/PandoraSettingsDefault.xml" />
        <constant name="DropCollectionsECal">ECalBarrelScHitsEven ECalBarrelScHitsOdd ECalEndcapScHitsEven ECalEndcapScHitsOdd</constant>
        <constant name="DropCollectionsHCal">HCalBarrelRPCHits HCalEndcapRPCHits HCalECRingRPCHits</constant>
        <constant name="AdditionalDropCollectionsREC">${DropCollectionsECal} ${DropCollectionsHCal}</constant>
        <constant name="dEdXErrorFactor">7.55</constant>
        <constant name="dEdXSmearingFactor">0.029</constant>
        <constant name="PidPDFFile" value="HighLevelReco/PIDFiles/LikelihoodPID_Standard_l5_v01.root" />
        <constant name="PidWeightFiles">HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_02GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_03GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_04GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_05GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_06GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_07GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_08GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_09GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_10GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_11GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_12GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_13GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_14GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_15GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_16GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_17GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_18GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_19GeVP_clusterinfo.weights.xml HighLevelReco/PIDFiles/LowMomMuPiSeparation/TMVAClassification_BDTG_l5_20GeVP_clusterinfo.weights.xml</constant>
        <constant name="ECalBarrelSimHitCollections">ECalBarrelSiHitsEven ECalBarrelSiHitsOdd</constant>
        <constant name="ECalEndcapSimHitCollections">ECalEndcapSiHitsEven ECalEndcapSiHitsOdd</constant>
        <constant name="ECalRingSimHitCollections">EcalEndcapRingCollection</constant>
        <constant name="HCalBarrelSimHitCollections">HcalBarrelRegCollection</constant>
        <constant name="HCalEndcapSimHitCollections">HcalEndcapsCollection</constant>
        <constant name="HCalRingSimHitCollections">HcalEndcapRingCollection</constant>
        <constant name="ECalSimHitCollections">${ECalBarrelSimHitCollections} ${ECalEndcapSimHitCollections} ${ECalRingSimHitCollections}</constant>
        <constant name="HCalSimHitCollections">${HCalBarrelSimHitCollections} ${HCalEndcapSimHitCollections} ${HCalRingSimHitCollections}</constant>
        <constant name="BeamCalBackgroundFile">HighLevelReco/BeamCalBackground/BeamCalBackground-E${CMSEnergy}-B3.5-RealisticNominalAntiDid.root</constant>
        <!-- Energy dependant parameters -->
        <constant name="ExpectedBgWW" value="0" />
        <constant name="ExpectedBgWB" value="0" />
        <constant name="ExpectedBgBW" value="0" />
        <constant name="ExpectedBgBB" value="0" />
        <constant name="LCFIPlusBeamspotConstraint" value="false" />
        <constant name="BeamSizeX" value="0" />
        <constant name="BeamSizeY" value="0" />
        <constant name="BeamSizeZ" value="0" />
        <!-- Output files constants -->
        <constant name="OutputBaseName" value="StandardReco" />
        <constant name="AIDAFileName" value="${OutputBaseName}_AIDA" />
        <constant name="RECOutputFile" value="${OutputBaseName}_REC.slcio" />
        <constant name="DSTOutputFile" value="${OutputBaseName}_DST.slcio" />
        <constant name="PfoOutputFile" value="${OutputBaseName}_PfoAnalysis.root" />
    </constants>
    <!-- ***** Execute section ***** -->
    <execute>
        <!-- Initialization processors -->
        <processor name="MyAIDAProcessor" condition="" />
        <processor name="InitDD4hep" condition="" />
        <processor name="MyStatusmonitor" condition="" />
        <!-- Overlay background, if any (see constant RunOverlay) -->
        <processor name="BgOverlayWW" condition="${RunOverlay}" />
        <processor name="BgOverlayWB" condition="${RunOverlay}" />
        <processor name="BgOverlayBW" condition="${RunOverlay}" />
        <processor name="BgOverlayBB" condition="${RunOverlay}" />
        <processor name="PairBgOverlay" condition="${RunOverlay}" />
        <!-- Tracking digitizers -->
        <processor name="MySplitCollectionByLayer" condition="" />
        <processor name="VXDPlanarDigiProcessor_CMOSVXD5" condition="" />
        <processor name="SITPlanarDigiProcessor" condition="" />
        <processor name="FTDPixelPlanarDigiProcessor" condition="" />
        <processor name="FTDStripPlanarDigiProcessor" condition="" />
        <processor name="OuterPlanarDigiProcessor" condition="" />
        <processor name="OuterEndcapPlanarDigiProcessor" condition="" />
        <!-- Tracking reconstruction -->
        <processor name="MyConformalTracking" condition="" />
        <processor name="ClonesAndSplitTracksFinder" condition="" />
        <processor name="Refit" condition="" />
        <!-- Ecal digitizers -->
        <processor name="MergeCollectionsEcalBarrelHits" condition="" />
        <processor name="MergeCollectionsEcalEndcapHits" condition="" />
        <processor name="MyEcalBarrelDigi" condition="" />
        <processor name="MyEcalBarrelReco" condition="" />
        <processor name="MyEcalBarrelGapFiller" condition="" />
        <processor name="MyEcalEndcapDigi" condition="" />
        <processor name="MyEcalEndcapReco" condition="" />
        <processor name="MyEcalEndcapGapFiller" condition="" />
        <processor name="MyEcalRingDigi" condition="" />
        <processor name="MyEcalRingReco" condition="" />
        <!-- Hcal digitizers -->
        <processor name="MyHcalBarrelDigi" condition="" />
        <processor name="MyHcalBarrelReco" condition="" />
        <processor name="MyHcalEndcapDigi" condition="" />
        <processor name="MyHcalEndcapReco" condition="" />
        <processor name="MyHcalRingDigi" condition="" />
        <processor name="MyHcalRingReco" condition="" />
        <!-- Fcal digitizers -->
        <processor name="MySimpleBCalDigi" condition="" />
        <processor name="MySimpleLCalDigi" condition="" />
        <processor name="MySimpleLHCalDigi" condition="" />
        <!-- Muon digitizer(s) -->
        <processor name="MyDDSimpleMuonDigi" condition="" />
        <!-- Particle flow reconstruction -->
        <processor name="MyDDMarlinPandora" condition="" />
        <!--BeamCal reconstruction-->
        <processor name="MyBeamCalClusterReco" condition="${RunBeamCalReco}" />
        <!-- High level reconstruction -->
        <processor name="MyAdd4MomCovMatrixCharged" condition="" />
        <processor name="MyAddClusterProperties" condition="" />
        <processor name="MyComputeShowerShapesProcessor" condition="" />
        <processor name="MyphotonCorrectionProcessor" condition="" />
        <processor name="MyV0Finder" condition="" />
        <processor name="MyPi0Finder" condition="" />
        <processor name="MyEtaFinder" condition="" />
        <processor name="MyEtaPrimeFinder" condition="" />
        <processor name="MyGammaGammaSolutionFinder" condition="" />
        <processor name="MyDistilledPFOCreator" condition="" />
        <processor name="MyLikelihoodPID" condition="" />
        <processor name="MyRecoMCTruthLinker" condition="" />
        <!-- Output processors -->
        <processor name="MyLCIOOutputProcessor" condition="" />
        <processor name="DSTOutput" condition="" />
        <processor name="MyPfoAnalysis" condition="" />
    </execute>
    <!-- ***** Global section ***** -->
    <global>
        <parameter name="LCIOInputFiles" />
        <parameter name="MaxRecordNumber" value="0" />
        <parameter name="SkipNEvents" value="0" />
        <parameter name="SupressCheck" value="false" />
        <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">MESSAGE</parameter>
        <parameter name="RandomSeed" value="1234567890" />
        <parameter name="OutputSteeringFile" value="" />
    </global>
    <!-- Init processors : histograming, logging, geometry ... -->
    <processor name="MyAIDAProcessor" type="AIDAProcessor">
        <!--Processor that handles AIDA files. Creates on directory per processor.  Processors only need to create and fill the histograms, clouds and tuples. Needs to be the first ActiveProcessor-->
        <!-- compression of output file 0: false >0: true (default) -->
        <parameter name="Compress" type="int" value="1" />
        <!-- filename without extension-->
        <parameter name="FileName" type="string" value="${AIDAFileName}" />
        <!-- type of output file xml (default) or root ( only OpenScientist)-->
        <parameter name="FileType" type="string" value="root " />
    </processor>
    <processor name="InitDD4hep" type="InitializeDD4hep">
        <!--InitializeDD4hep reads a compact xml file and initializes the DD4hep::LCDD object-->
        <!--Name of the DD4hep compact xml file to load-->
        <parameter name="DD4hepXMLFile" type="string">${CompactFile}</parameter>
    </processor>
    <processor name="MyStatusmonitor" type="Statusmonitor">
        <!--Statusmonitor prints out information on running Marlin Job: Prints number of runs run and current number of the event. Counting is sequential and not the run or event ID.-->
        <!--Print the event number every N events-->
        <parameter name="HowOften" type="int">1</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">MESSAGE </parameter> -->
    </processor>
    <!-- Overlay background -->
    <processor name="BgOverlayWW" type="Overlay">
        <!--Opens a second (chain of) lcio file(s) and overlays events...-->
        <!--Add additional background events according to a poisson distribution with this expectation value. (non, if parameter not set)-->
        <parameter name="expBG" type="double">${ExpectedBgWW}</parameter>
        <!--Name of the lcio input file(s)-->
        <parameter name="InputFileNames" type="StringVec">undefined.slcio</parameter>
        <parameter name="NumberOverlayEvents" type="int">0</parameter>
    </processor>
    <processor name="BgOverlayWB" type="Overlay">
        <!--Opens a second (chain of) lcio file(s) and overlays events...-->
        <!--Add additional background events according to a poisson distribution with this expectation value. (non, if parameter not set)-->
        <parameter name="expBG" type="double">${ExpectedBgWB}</parameter>
        <!--Name of the lcio input file(s)-->
        <parameter name="InputFileNames" type="StringVec">undefined.slcio</parameter>
        <parameter name="NumberOverlayEvents" type="int">0</parameter>
    </processor>
    <processor name="BgOverlayBW" type="Overlay">
        <!--Opens a second (chain of) lcio file(s) and overlays events...-->
        <!--Add additional background events according to a poisson distribution with this expectation value. (non, if parameter not set)-->
        <parameter name="expBG" type="double">${ExpectedBgBW}</parameter>
        <!--Name of the lcio input file(s)-->
        <parameter name="InputFileNames" type="StringVec">undefined.slcio</parameter>
        <parameter name="NumberOverlayEvents" type="int">0</parameter>
    </processor>
    <processor name="BgOverlayBB" type="Overlay">
        <!--Opens a second (chain of) lcio file(s) and overlays events...-->
        <!--Add additional background events according to a poisson distribution with this expectation value. (non, if parameter not set)-->
        <parameter name="expBG" type="double">${ExpectedBgBB}</parameter>
        <!--Name of the lcio input file(s)-->
        <parameter name="InputFileNames" type="StringVec">undefined.slcio</parameter>
        <parameter name="NumberOverlayEvents" type="int">0</parameter>
    </processor>
    <processor name="PairBgOverlay" type="Overlay">
        <!--Opens a second (chain of) lcio file(s) and overlays events...-->
        <!--Overlay each event with this number of background events. (default 0)-->
        <parameter name="NumberOverlayEvents" type="int">1</parameter>
        <!--Name of the lcio input file(s)-->
        <parameter name="InputFileNames" type="StringVec">undefined.slcio</parameter>
        <!--List of collections to exclude for merging-->
        <!--Exclude BeamCalCollection because overlay is treated in the BeamCalReco itself-->
        <parameter name="ExcludeCollections" type="StringVec">BeamCalCollection</parameter>
        <parameter name="NumberOverlayEvents" type="int">0</parameter>
    </processor>
    <!-- Tracking related : digitization, reconstruction -->
    <processor name="MySplitCollectionByLayer" type="SplitCollectionByLayer">
        <!--split a hit collection based on the layer number of the hits -->
        <!--Name of the input collection with hits-->
        <parameter name="InputCollection" type="string">FTDCollection</parameter>
        <!--Name of the output collection with start and end layer number-->
        <parameter name="OutputCollections" type="StringVec">FTD_PIXELCollection 0 1 FTD_STRIPCollection 2 6</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> > -->
    </processor>
    <processor name="VXDPlanarDigiProcessor_CMOSVXD5" type="DDPlanarDigiProcessor">
        <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
        <parameter name="ForceHitsOntoSurface" type="bool">true</parameter>
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">VXD</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.003</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.003</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">VXDCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">VXDTrackerHitRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">VXDTrackerHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="SITPlanarDigiProcessor" type="DDPlanarDigiProcessor">
        <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
        <parameter name="ForceHitsOntoSurface" type="bool">true</parameter>
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">SIT</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.005</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.005</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">SITCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">SITTrackerHitRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">SITTrackerHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="FTDPixelPlanarDigiProcessor" type="DDPlanarDigiProcessor">
        <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
        <parameter name="ForceHitsOntoSurface" type="bool">true</parameter>
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">FTD</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.003</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.003</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">FTD_PIXELCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">FTDPixelTrackerHitRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">FTDPixelTrackerHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="FTDStripPlanarDigiProcessor" type="DDPlanarDigiProcessor">
        <!--Project hits onto the surface in case they are not yet on the surface (default: false)-->
        <parameter name="ForceHitsOntoSurface" type="bool">true</parameter>
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">FTD</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.007</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.0</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">FTD_STRIPCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">FTDStripTrackerHitRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">FTDStripTrackerHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="OuterPlanarDigiProcessor" type="DDPlanarDigiProcessor">
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">OuterTrackers</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.007</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.09</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">OuterTrackerBarrelCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">OuterTrackerBarrelHitsRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">OTrackerHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="OuterEndcapPlanarDigiProcessor" type="DDPlanarDigiProcessor">
        <!--PlanarDigiProcessor creates TrackerHits from SimTrackerHits, smearing them according to the input parameters.-->
        <parameter name="SubDetectorName" type="string">OuterTrackers</parameter>
        <!--whether hits are 1D strip hits-->
        <parameter name="IsStrip" type="bool">false</parameter>
        <!--resolution in direction of u-->
        <parameter name="ResolutionU" type="float">0.007</parameter>
        <!--resolution in direction of v-->
        <parameter name="ResolutionV" type="float">0.09</parameter>
        <!--Name of the Input SimTrackerHit collection-->
        <parameter name="SimTrackHitCollectionName" type="string" lcioInType="SimTrackerHit">OuterTrackerEndcapCollection</parameter>
        <!--Name of TrackerHit SimTrackHit relation collection-->
        <parameter name="SimTrkHitRelCollection" type="string" lcioOutType="LCRelation">OuterTrackerEndcapHitsRelations</parameter>
        <!--Name of the TrackerHit output collection-->
        <parameter name="TrackerHitCollectionName" type="string" lcioOutType="TrackerHitPlane">OTrackerEndcapHits</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="MyConformalTracking" type="ConformalTrackingV2">
        <!--ConformalTracking constructs tracks using a combined conformal mapping and cellular automaton approach.-->
        <!--Name of the TrackerHit input collections-->
        <parameter name="TrackerHitCollectionNames" type="StringVec" lcioInType="TrackerHitPlane">VXDTrackerHits FTDPixelTrackerHits FTDStripTrackerHits SITTrackerHits OTrackerHits OTrackerEndcapHits</parameter>
        <!--Name of the MCParticle input collection-->
        <parameter name="MCParticleCollectionName" type="string" lcioInType="MCParticle">MCParticle</parameter>
        <!--Name of the TrackerHit relation collections-->
        <parameter name="RelationsNames" type="StringVec" lcioInType="LCRelation">VXDTrackerHitRelations FTDPixelTrackerHitRelations FTDStripTrackerHitRelations SITTrackerHitRelations OuterTrackerBarrelHitsRelations OuterTrackerEndcapHitsRelations</parameter>
        <!--Silicon track Collection Name-->
        <parameter name="SiTrackCollectionName" type="string" lcioOutType="Track">SiTracksCT</parameter>
        <!--Debug hits Collection Name-->
        <parameter name="DebugHits" type="string" lcioOutType="TrackerHitPlane">DebugHits</parameter>
        <!--Maximum number of track hits to try the inverted fit-->
        <parameter name="MaxHitInvertedFit" type="int">6</parameter>
        <!--Final minimum number of track clusters-->
        <parameter name="MinClustersOnTrackAfterFit" type="int">3</parameter>
        <!--enable debug plots -->
        <parameter name="DebugPlots" type="bool">false</parameter>
        <!--Purity value used for checking if tracks are real or not-->
        <parameter name="trackPurity" type="double">0.7</parameter>
        <!--Print out time profile - for some, verbosity must be enable-->
        <parameter name="DebugTiming" type="bool">false</parameter>
        <!--retry with tightened parameters, when too many tracks are being created-->
        <parameter name="RetryTooManyTracks" type="bool">false</parameter>
        <!--Number of tracks that is considered too many-->
        <parameter name="TooManyTracks" type="int">100000</parameter>
        <!--sort results from kdtree search-->
        <parameter name="SortTreeResults" type="bool">true</parameter>
        <!--steps for the pattern recognition-->
        <parameter name="Steps" type="StringVec">[VXDBarrel] @Collections : VXDTrackerHits @Parameters : MaxCellAngle : 0.005; MaxCellAngleRZ : 0.005; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.04; SlopeZRange: 10.0; HighPTCut: 10.0; @Flags : HighPTFit, VertexToTracker @Functions : CombineCollections, BuildNewTracks [VXDEncap] @Collections : FTDPixelTrackerHits @Parameters : MaxCellAngle : 0.005; MaxCellAngleRZ : 0.005; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.04; SlopeZRange: 10.0; HighPTCut: 0.0; @Flags : HighPTFit, VertexToTracker @Functions : CombineCollections, ExtendTracks [LowerCellAngle1] @Collections : VXDTrackerHits, FTDPixelTrackerHits @Parameters : MaxCellAngle : 0.025; MaxCellAngleRZ : 0.025; Chi2Cut : 100; MinClustersOnTrack : 4; MaxDistance : 0.04; SlopeZRange: 10.0; HighPTCut: 10.0; @Flags : HighPTFit, VertexToTracker, RadialSearch @Functions : CombineCollections, BuildNewTracks [LowerCellAngle2] @Collections : @Parameters : MaxCellAngle : 0.05; MaxCellAngleRZ : 0.05; Chi2Cut : 2000; MinClustersOnTrack : 4; MaxDistance : 0.04; SlopeZRange: 10.0; HighPTCut: 10.0; @Flags : HighPTFit, VertexToTracker, RadialSearch @Functions : BuildNewTracks, SortTracks [Tracker] @Collections : SITTrackerHits, FTDStripTrackerHits, OTrackerHits, OTrackerEndcapHits @Parameters : MaxCellAngle : 0.05; MaxCellAngleRZ : 0.1; Chi2Cut : 2000; MinClustersOnTrack : 4; MaxDistance : 0.04; SlopeZRange: 10.0; HighPTCut: 0.0; @Flags : HighPTFit, VertexToTracker, RadialSearch @Functions : CombineCollections, ExtendTracks [Displaced] @Collections : VXDTrackerHits, FTDPixelTrackerHits, SITTrackerHits, FTDStripTrackerHits, OTrackerHits, OTrackerEndcapHits @Parameters : MaxCellAngle : 0.1; MaxCellAngleRZ : 0.1; Chi2Cut : 1000; MinClustersOnTrack : 5; MaxDistance : 0.035; SlopeZRange: 10.0; HighPTCut: 10.0; @Flags : OnlyZSchi2cut, RadialSearch @Functions : CombineCollections, BuildNewTracks</parameter>
        <!--Angular range for initial cell seeding-->
        <parameter name="ThetaRange" type="double">0.05</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
    </processor>
    <processor name="ClonesAndSplitTracksFinder" type="ClonesAndSplitTracksFinder">
        <parameter name="InputTrackCollectionName" type="string">SiTracksCT</parameter>
        <parameter name="OutputTrackCollectionName" type="string">SiTracks</parameter>
        <parameter name="MultipleScatteringOn" type="bool">true</parameter>
        <parameter name="EnergyLossOn" type="bool">true</parameter>
        <parameter name="SmoothOn" type="bool">false</parameter>
        <parameter name="extrapolateForward" type="bool">true</parameter>
        <!--if true, the merging of split tracks is performed-->
        <parameter name="mergeSplitTracks" type="bool">true</parameter>
        <!--minimum track pt for merging (in GeV/c)-->
        <parameter name="minTrackPt" type="double">1</parameter>
        <!--maximum significance separation in phi-->
        <parameter name="maxSignificancePhi" type="double">3</parameter>
        <!--maximum significance separation in pt-->
        <parameter name="maxSignificancePt" type="double">2</parameter>
        <!--maximum significance separation in tanLambda-->
        <parameter name="maxSignificanceTheta" type="double">3</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!-- <parameter name="Verbosity" type="string">DEBUG </parameter> -->
    </processor>
    <processor name="Refit" type="RefitFinal">
        <!--Refit processor that calls finaliseLCIOTrack after taking the trackstate from the existing track. No re-sorting of hits is done-->
        <!--Use Energy Loss in Fit-->
        <parameter name="EnergyLossOn" type="bool">true</parameter>
        <!--Name of the input track to MCParticle relation collection-->
        <parameter name="InputRelationCollectionName" type="string" lcioInType="LCRelation">SiTrackRelations</parameter>
        <!--Name of the input track collection-->
        <parameter name="InputTrackCollectionName" type="string" lcioInType="Track">SiTracks</parameter>
        <!--maximum allowable chi2 increment when moving from one site to another-->
        <parameter name="Max_Chi2_Incr" type="double">1.79769e+30</parameter>
        <!--Use MultipleScattering in Fit-->
        <parameter name="MultipleScatteringOn" type="bool">true</parameter>
        <!--Refit Track to MCParticle relation collection Name-->
        <parameter name="OutputRelationCollectionName" type="string" lcioOutType="LCRelation">SiTracks_Refitted_Relation</parameter>
        <!--Name of the output track collection-->
        <parameter name="OutputTrackCollectionName" type="string" lcioOutType="Track">SiTracks_Refitted</parameter>
        <!--Identifier of the reference point to use for the fit initialisation, -1 means at 0 0 0-->
        <parameter name="ReferencePoint" type="int">-1</parameter>
        <!--Smooth All Mesurement Sites in Fit-->
        <parameter name="SmoothOn" type="bool">false</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!--parameter name="Verbosity" type="string"> DEBUG </parameter-->
        <!--if true extrapolation in the forward direction (in-out), otherwise backward (out-in)-->
        <parameter name="extrapolateForward" type="bool">true</parameter>
        <!--Final minimum number of track clusters-->
        <parameter name="MinClustersOnTrackAfterFit" type="int">3</parameter>
    </processor>
    <!-- Calorimeter digitization : Ecal, Hcal, Fcal and Muon -->
    <processor name="MergeCollectionsEcalBarrelHits" type="MergeCollections">
        <parameter name="InputCollections" type="StringVec">ECalBarrelSiHitsEven ECalBarrelSiHitsOdd</parameter>
        <parameter name="OutputCollection" type="string">EcalBarrelCollection</parameter>
    </processor>
    <processor name="MergeCollectionsEcalEndcapHits" type="MergeCollections">
        <parameter name="InputCollections" type="StringVec">ECalEndcapSiHitsEven ECalEndcapSiHitsOdd</parameter>
        <parameter name="OutputCollection" type="string">EcalEndcapsCollection</parameter>
    </processor>
    <processor name="MyEcalBarrelDigi" type="RealisticCaloDigiSilicon">
        <parameter name="inputHitCollections">EcalBarrelCollection</parameter>
        <parameter name="outputHitCollections">EcalBarrelCollectionDigi</parameter>
        <parameter name="outputRelationCollections">EcalBarrelRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="timingCut">1</parameter>
        <parameter name="calibration_mip">${EcalBarrelMip}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyEcalBarrelReco" type="RealisticCaloRecoSilicon">
        <parameter name="inputHitCollections">EcalBarrelCollectionDigi</parameter>
        <parameter name="inputRelationCollections">EcalBarrelRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">EcalBarrelCollectionRec</parameter>
        <parameter name="outputRelationCollections">EcalBarrelRelationsSimRec</parameter>
        <parameter name="calibration_layergroups">20 11</parameter>
        <parameter name="calibration_factorsMipGev">${EcalBarrelEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyEcalBarrelGapFiller" type="BruteForceEcalGapFiller">
        <parameter name="inputHitCollection">EcalBarrelCollectionRec</parameter>
        <parameter name="outputHitCollection">EcalBarrelCollectionGapHits</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
        <parameter name="CellIDModuleString">module</parameter>
        <parameter name="CellIDStaveString">stave</parameter>
        <parameter name="applyInterModuleCorrection">false</parameter>
        <parameter name="expectedInterModuleDistance">7.0</parameter>
    </processor>
    <processor name="MyEcalEndcapDigi" type="RealisticCaloDigiSilicon">
        <parameter name="inputHitCollections">EcalEndcapsCollection</parameter>
        <parameter name="outputHitCollections">EcalEndcapsCollectionDigi</parameter>
        <parameter name="outputRelationCollections">EcalEndcapsRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="timingCut">1</parameter>
        <parameter name="calibration_mip">${EcalEndcapMip}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyEcalEndcapReco" type="RealisticCaloRecoSilicon">
        <parameter name="inputHitCollections">EcalEndcapsCollectionDigi</parameter>
        <parameter name="inputRelationCollections">EcalEndcapsRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">EcalEndcapsCollectionRec</parameter>
        <parameter name="outputRelationCollections">EcalEndcapsRelationsSimRec</parameter>
        <parameter name="calibration_layergroups">20 11</parameter>
        <parameter name="calibration_factorsMipGev">${EcalEndcapEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyEcalEndcapGapFiller" type="BruteForceEcalGapFiller">
        <parameter name="inputHitCollection">EcalEndcapsCollectionRec</parameter>
        <parameter name="outputHitCollection">EcalEndcapsCollectionGapHits</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
        <parameter name="CellIDModuleString">module</parameter>
        <parameter name="CellIDStaveString">stave</parameter>
        <parameter name="applyInterModuleCorrection">false</parameter>
        <parameter name="expectedInterModuleDistance">7.0</parameter>
    </processor>
    <processor name="MyEcalRingDigi" type="RealisticCaloDigiSilicon">
        <parameter name="inputHitCollections">EcalEndcapRingCollection</parameter>
        <parameter name="outputHitCollections">EcalEndcapRingCollectionDigi</parameter>
        <parameter name="outputRelationCollections">EcalEndcapRingRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="timingCut">1</parameter>
        <parameter name="calibration_mip">${EcalRingMip}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyEcalRingReco" type="RealisticCaloRecoSilicon">
        <parameter name="inputHitCollections">EcalEndcapRingCollectionDigi</parameter>
        <parameter name="inputRelationCollections">EcalEndcapRingRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">EcalEndcapRingCollectionRec</parameter>
        <parameter name="outputRelationCollections">EcalEndcapRingRelationsSimRec</parameter>
        <parameter name="calibration_layergroups">20 11</parameter>
        <parameter name="calibration_factorsMipGev">${EcalRingEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalBarrelDigi" type="RealisticCaloDigiScinPpd">
        <parameter name="inputHitCollections">HcalBarrelRegCollection</parameter>
        <parameter name="outputHitCollections">HcalBarrelCollectionDigi</parameter>
        <parameter name="outputRelationCollections">HcalBarrelRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="thresholdUnit">MIP</parameter>
        <parameter name="timingCut">1</parameter>
        <!-- the ave energy deposition of a MIP in the scint -->
        <parameter name="calibration_mip">${HcalBarrelMip}</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="ppd_npix_uncert">0</parameter>
        <parameter name="ppd_pix_spread">0</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalBarrelReco" type="RealisticCaloRecoScinPpd">
        <parameter name="inputHitCollections">HcalBarrelCollectionDigi</parameter>
        <parameter name="inputRelationCollections">HcalBarrelRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">HcalBarrelCollectionRec</parameter>
        <parameter name="outputRelationCollections">HcalBarrelRelationsSimRec</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="calibration_layergroups">100</parameter>
        <!-- factor to convert from MIP to GeV (including energy in absorber) -->
        <parameter name="calibration_factorsMipGev">${HcalBarrelEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalEndcapDigi" type="RealisticCaloDigiScinPpd">
        <parameter name="inputHitCollections">HcalEndcapsCollection</parameter>
        <parameter name="outputHitCollections">HcalEndcapsCollectionDigi</parameter>
        <parameter name="outputRelationCollections">HcalEndcapsRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="thresholdUnit">MIP</parameter>
        <parameter name="timingCut">1</parameter>
        <!-- the ave energy deposition of a MIP in the scint -->
        <parameter name="calibration_mip">${HcalEndcapMip}</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="ppd_npix_uncert">0</parameter>
        <parameter name="ppd_pix_spread">0</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalEndcapReco" type="RealisticCaloRecoScinPpd">
        <parameter name="inputHitCollections">HcalEndcapsCollectionDigi</parameter>
        <parameter name="inputRelationCollections">HcalEndcapsRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">HcalEndcapsCollectionRec</parameter>
        <parameter name="outputRelationCollections">HcalEndcapsRelationsSimRec</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="calibration_layergroups">100</parameter>
        <!-- factor to convert from MIP to GeV (including energy in absorber) -->
        <parameter name="calibration_factorsMipGev">${HcalEndcapEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalRingDigi" type="RealisticCaloDigiScinPpd">
        <parameter name="inputHitCollections">HcalEndcapRingCollection</parameter>
        <parameter name="outputHitCollections">HcalEndcapRingCollectionDigi</parameter>
        <parameter name="outputRelationCollections">HcalEndcapRingRelationsSimDigi</parameter>
        <parameter name="threshold">0.5</parameter>
        <parameter name="thresholdUnit">MIP</parameter>
        <parameter name="timingCut">1</parameter>
        <!-- the ave energy deposition of a MIP in the scint -->
        <parameter name="calibration_mip">${HcalRingMip}</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="ppd_npix_uncert">0</parameter>
        <parameter name="ppd_pix_spread">0</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MyHcalRingReco" type="RealisticCaloRecoScinPpd">
        <parameter name="inputHitCollections">HcalEndcapRingCollectionDigi</parameter>
        <parameter name="inputRelationCollections">HcalEndcapRingRelationsSimDigi</parameter>
        <parameter name="outputHitCollections">HcalEndcapRingCollectionRec</parameter>
        <parameter name="outputRelationCollections">HcalEndcapRingRelationsSimRec</parameter>
        <parameter name="ppd_mipPe">15</parameter>
        <parameter name="ppd_npix">2000</parameter>
        <parameter name="calibration_layergroups">100</parameter>
        <!-- factor to convert from MIP to GeV (including energy in absorber) -->
        <parameter name="calibration_factorsMipGev">${HcalRingEnergyFactors}</parameter>
        <parameter name="CellIDLayerString">layer</parameter>
    </processor>
    <processor name="MySimpleBCalDigi" type="SimpleFCalDigi">
        <!--Performs simple digitization of sim calo hits...-->
        <!--ID of calorimeter: lcal, fcal, bcal-->
        <parameter name="CaloID" type="string">bcal</parameter>
        <!--name of the part of the cellID that holds the layer-->
        <parameter name="CellIDLayerString" type="string">layer</parameter>
        <!--Calibration coefficients for LCAL-->
        <parameter name="CalibrFCAL" type="FloatVec">${BeamCalCalibrationFactor}</parameter>
        <!--LCAL Collection Names-->
        <parameter name="FCALCollections" type="StringVec">BeamCalCollection</parameter>
        <!--LCAL Collection of real Hits-->
        <parameter name="FCALOutputCollection" type="string">BCAL</parameter>
        <!--Threshold for LCAL Hits in GeV-->
        <parameter name="FcalThreshold" type="float">5e-05</parameter>
        <!--MuonHit Relation Collection-->
        <parameter name="RelationOutputCollection" type="string">RelationBCalHit</parameter>
    </processor>
    <processor name="MySimpleLCalDigi" type="SimpleFCalDigi">
        <!--Performs simple digitization of sim calo hits...-->
        <!--ID of calorimeter: lcal, fcal, bcal-->
        <parameter name="CaloID" type="string">lcal</parameter>
        <!--name of the part of the cellID that holds the layer-->
        <parameter name="CellIDLayerString" type="string">layer</parameter>
        <!--Calibration coefficients for LCAL-->
        <parameter name="CalibrFCAL" type="FloatVec">89.0</parameter>
        <!--LCAL Collection Names-->
        <parameter name="FCALCollections" type="StringVec">LumiCalCollection</parameter>
        <!--LCAL Collection of real Hits-->
        <parameter name="FCALOutputCollection" type="string">LCAL</parameter>
        <!--Threshold for LCALHits in GeV-->
        <parameter name="FcalThreshold" type="float">0.4e-04</parameter>
        <!--LCALHit Relation Collection-->
        <parameter name="RelationOutputCollection" type="string">RelationLcalHit</parameter>
    </processor>
    <processor name="MySimpleLHCalDigi" type="SimpleFCalDigi">
        <!--Performs simple digitization of sim calo hits...-->
        <!--ID of calorimeter: lcal, fcal, bcal-->
        <parameter name="CaloID" type="string">lhcal</parameter>
        <!--name of the part of the cellID that holds the layer-->
        <parameter name="CellIDLayerString" type="string">layer</parameter>
        <!--Calibration coefficients for LHCAL-->
        <parameter name="CalibrFCAL" type="FloatVec">150</parameter>
        <!--LHCAL Collection Names-->
        <parameter name="FCALCollections" type="StringVec">LHCalCollection</parameter>
        <!--LHCAL Collection of real Hits-->
        <parameter name="FCALOutputCollection" type="string">LHCAL</parameter>
        <!--Threshold for LHCAL Hits in GeV-->
        <parameter name="FcalThreshold" type="float">1.7e-04</parameter>
        <!--LHCALHit Relation Collection-->
        <parameter name="RelationOutputCollection" type="string">RelationLHcalHit</parameter>
    </processor>
    <processor name="MyDDSimpleMuonDigi" type="DDSimpleMuonDigi">
        <!--Performs simple digitization of sim calo hits...-->
        <!--name of the part of the cellID that holds the layer-->
        <parameter name="CellIDLayerString" type="string">layer</parameter>
        <!--Calibration coefficients for MUON-->
        <parameter name="CalibrMUON" type="FloatVec">${MuonCalibration}</parameter>
        <!-- maximum hit energy for a MUON hit -->
        <parameter name="MaxHitEnergyMUON" type="float">2.0</parameter>
        <!--MUON Collection Names-->
        <parameter name="MUONCollections" type="StringVec">YokeBarrelCollection YokeEndcapsCollection</parameter>
        <!--MUON Collection of real Hits-->
        <parameter name="MUONOutputCollection" type="string">MUON</parameter>
        <!--Threshold for MUON Hits in GeV-->
        <parameter name="MuonThreshold" type="float">0.025</parameter>
        <!-- Energy threshold for timing information for Muon Hits in GeV -->
        <parameter name="MuonTimeThreshold" type="float">0.025</parameter>
        <!--The muon detector name for barrel region-->
        <parameter name="DetectorNameBarrel" type="string">YokeBarrel</parameter>
        <!--The muon detector name for endcap region-->
        <parameter name="DetectorNameEndcap" type="string">YokeEndcap</parameter>
        <!--MuonHit Relation Collection-->
        <parameter name="RelationOutputCollection" type="string">RelationMuonHit</parameter>
    </processor>
    <!-- Particle Flow reconstruction : PandoraPFA -->
    <processor name="MyDDMarlinPandora" type="DDPandoraPFANewProcessor">
        <!--Track cut on distance from BarrelTracker inner r to id whether track can form pfo-->
        <parameter name="MaxBarrelTrackerInnerRDistance" type="float">105.0</parameter>
        <parameter name="PandoraSettingsXmlFile" type="String">${PandoraSettingsFile}</parameter>
        <parameter name="UseDD4hepField" type="bool">false</parameter>
        <!-- Collection names -->
        <parameter name="TrackCollections" type="StringVec">SiTracks</parameter>
        <parameter name="ECalCaloHitCollections" type="StringVec">EcalBarrelCollectionRec EcalBarrelCollectionGapHits EcalEndcapsCollectionRec EcalEndcapsCollectionGapHits EcalEndcapRingCollectionRec</parameter>
        <parameter name="HCalCaloHitCollections" type="StringVec">HcalBarrelCollectionRec HcalEndcapsCollectionRec HcalEndcapRingCollectionRec</parameter>
        <parameter name="LCalCaloHitCollections" type="StringVec">LCAL</parameter>
        <parameter name="LHCalCaloHitCollections" type="StringVec">LHCAL</parameter>
        <parameter name="MuonCaloHitCollections" type="StringVec">MUON</parameter>
        <parameter name="MCParticleCollections" type="StringVec">MCParticle</parameter>
        <parameter name="RelCaloHitCollections" type="StringVec">EcalBarrelRelationsSimRec EcalEndcapsRelationsSimRec EcalEndcapRingRelationsSimRec HcalBarrelRelationsSimRec HcalEndcapsRelationsSimRec HcalEndcapRingRelationsSimRec RelationMuonHit RelationLHcalHit RelationLcalHit</parameter>
        <parameter name="RelTrackCollections" type="StringVec">SiTracksMCP</parameter>
        <parameter name="KinkVertexCollections" type="StringVec">KinkVertices</parameter>
        <parameter name="ProngVertexCollections" type="StringVec">ProngVertices</parameter>
        <parameter name="SplitVertexCollections" type="StringVec">SplitVertices</parameter>
        <parameter name="V0VertexCollections" type="StringVec">V0Vertices</parameter>
        <parameter name="StartVertexCollectionName" type="string">PandoraPFANewStartVertices</parameter>
        <parameter name="StartVertexAlgorithmName" type="string">PandoraPFANew</parameter>
        <parameter name="ClusterCollectionName" type="String">PandoraClusters</parameter>
        <parameter name="PFOCollectionName" type="String">PandoraPFOs</parameter>
        <!-- Calibration constants -->
        <parameter name="ECalToMipCalibration">${PandoraEcalToMip}</parameter>
        <parameter name="HCalToMipCalibration">${PandoraHcalToMip}</parameter>
        <parameter name="MuonToMipCalibration">${PandoraMuonToMip}</parameter>
        <parameter name="ECalMipThreshold" type="float">0.5</parameter>
        <parameter name="HCalMipThreshold" type="float">0.3</parameter>
        <parameter name="ECalToEMGeVCalibration">${PandoraEcalToEMScale}</parameter>
        <parameter name="HCalToEMGeVCalibration">${PandoraHcalToEMScale}</parameter>
        <parameter name="ECalToHadGeVCalibrationBarrel">${PandoraEcalToHadBarrelScale}</parameter>
        <parameter name="ECalToHadGeVCalibrationEndCap">${PandoraEcalToHadEndcapScale}</parameter>
        <parameter name="HCalToHadGeVCalibration">${PandoraHcalToHadScale}</parameter>
        <parameter name="DigitalMuonHits" type="int">0</parameter>
        <parameter name="MaxHCalHitHadronicEnergy" type="float">1000000.</parameter>
        <parameter name="SoftwareCompensationWeights" type="FloatVec">${PandoraSoftwareCompensationWeights}</parameter>
        <parameter name="SoftwareCompensationEnergyDensityBins" type="FloatVec">0 2 5 7.5 9.5 13 16 20 23.5 28</parameter>
        <parameter name="FinalEnergyDensityBin" type="float">30</parameter>
        <parameter name="MaxClusterEnergyToApplySoftComp" type="float">1000</parameter>
        <parameter name="MinCleanHitEnergy" type="float">0.5</parameter>
        <parameter name="MinCleanHitEnergyFraction" type="float">0.01</parameter>
        <parameter name="MinCleanCorrectedHitEnergy" type="float">0.1</parameter>
        <!--Whether to calculate track states manually, rather than copy stored fitter values-->
        <parameter name="UseOldTrackStateCalculation" type="int">0 1</parameter>
        <!-- !!!FIXME, workaround for some missing TS AtCalo face - this should really be: 0 -->
        <parameter name="NEventsToSkip" type="int">0</parameter>
        <!--parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT"> DEBUG0 </parameter-->
        <!--The name of the Vertex Barrel detector-->
        <parameter name="VertexBarrelDetectorName" type="string">VXD</parameter>
        <!--Detector names of the Trackers in the Barrel starting from the innermost one-->
        <parameter name="TrackerBarrelDetectorNames" type="StringVec">OuterTrackers</parameter>
        <!--Detector names of the Trackers in the Endcap starting from the innermost one-->
        <parameter name="TrackerEndcapDetectorNames" type="StringVec">FTD</parameter>
        <parameter name="CoilName" type="string">Coil</parameter>
        <parameter name="ECalBarrelDetectorName" type="string">EcalBarrel</parameter>
        <parameter name="ECalEndcapDetectorName" type="string">EcalEndcap</parameter>
        <parameter name="ECalOtherDetectorNames" type="StringVec">EcalPlug Lcal BeamCal</parameter>
        <parameter name="HCalEndcapDetectorName" type="string">HcalEndcap</parameter>
        <parameter name="HCalBarrelDetectorName" type="string">HcalBarrel</parameter>
        <parameter name="HCalOtherDetectorNames" type="StringVec">HcalRing LHcal</parameter>
        <parameter name="MuonBarrelDetectorName" type="string">YokeBarrel</parameter>
        <parameter name="MuonEndcapDetectorName" type="string">YokeEndcap</parameter>
        <parameter name="MuonOtherDetectorNames" type="StringVec" />
        <!--Decides whether to create gaps in the geometry (ILD-specific)-->
        <!---SHOULD BE TRUE FOR ILD BUT INNER/OUTER SYMMETRIES ARE NOT COMPATIBLE -->
        <parameter name="CreateGaps" type="bool">false</parameter>
        <!-- RE: Fix for driver Yoke05_Barrel in lcgeo. See PR #241 iLCSoft/lcgeo -->
        <!-- The layers are oriented in (0,1,0) before placement in the stave/module -->
        <parameter name="YokeBarrelNormalVector" type="FloatVec">0 1 0</parameter>
        <!--The name of the DDTrackCreator implementation-->
        <parameter name="TrackCreatorName" type="string">DDTrackCreatorCLIC</parameter>
        <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">SILENT</parameter>
    </processor>
    <!-- Standalone BeamCal reconstruction -->
    <processor name="MyBeamCalClusterReco" type="BeamCalClusterReco">
        <!--BeamCalClusterReco takes a list of beamcal background files from the ReadBeamCalprocessor, adds NumberOfBX of them together and puts the signal hits from thelcio input file on top of that, and then clustering is attempted.-->
        <!--Name of the MCParticle Collection-->
        <parameter name="MCParticleCollectionName" type="string" lcioInType="MCParticle">MCParticle</parameter>
        <!--Name of BeamCal Collection-->
        <!-- <parameter name="BeamCalCollectionName" type="string" lcioInType="SimCalorimeterHit">BeamCalCollection</parameter> -->
        <parameter name="BeamCalCollectionName" type="string">BCAL</parameter>
        <!--The Name of the DD4hep Readout belonging to the Detector the reconstruction is for, by default the name of the input collection-->
        <parameter name="ReadoutName" type="string">BeamCalCollection</parameter>
        <!--Name of the Reconstructed Particle collection-->
        <parameter name="RecoParticleCollectionname" type="string" lcioOutType="ReconstructedParticle">BCalRecoParticle</parameter>
        <!--Name of the Reconstructed Cluster collection-->
        <parameter name="RecoClusterCollectionname" type="string" lcioOutType="Cluster">BCalClusters</parameter>
        <!--The Name of the Detector the reconstruction is for-->
        <parameter name="DetectorName" type="int">BeamCal</parameter>
        <!--The ID where the SubClusterEnergy will be added: LumiCal=3, BeamCal=5 in DDPFOCreator.hh-->
        <parameter name="SubClusterEnergyID" type="int">5</parameter>
        <!--The ID of the first layer of the detector BeamCal 1: LumiCal: 0-->
        <parameter name="DetectorStartingLayerID" type="int">1</parameter>
        <!--Background simulation method-->
        <parameter name="BackgroundMethod" type="string">Gaussian</parameter>
        <!--Root Inputfile(s)-->
        <parameter name="InputFileBackgrounds" type="StringVec">${BeamCalBackgroundFile}</parameter>
        <!--Number of Bunch Crossings of Background-->
        <parameter name="NumberOfBX" type="int">1</parameter>
        <!--Use the cuts for the pads specified in ETPad. 
        If false, the standard deviation of each pad times the SigmaCut Factor is used, 
        the first entry in ETPad is used as a minimum energy to consider a pad at all-->
        <parameter name="UseConstPadCuts" type="bool">false</parameter>
        <!--If not using ConstPadCuts, each pad SigmaCut*variance is considered for clusters-->
        <parameter name="SigmaCut" type="double">2</parameter>
        <!--Rings from which onwards the outside Thresholds are used-->
        <parameter name="StartingRing" type="FloatVec">0</parameter>
        <!--Energy in a Pad, after subtraction of background required to consider it for signal-->
        <parameter name="ETPad" type="FloatVec">5e-5</parameter>
        <!--Energy in a Cluster to consider it an electron-->
        <parameter name="ETCluster" type="FloatVec">0.06</parameter>
        <!--Minimum number of pads in a single tower to be considered for signal-->
        <parameter name="MinimumTowerSize" type="int">6</parameter>
        <!--Layer (inclusive) from which on we start looking for signal clusters-->
        <parameter name="StartLookingInLayer" type="int">2</parameter>
        <!--How many layers are used for shower fitting-->
        <parameter name="NShowerCountingLayers" type="int">3</parameter>
        <!--Multiply deposit energy by this factor to account for sampling fraction-->
        <parameter name="LinearCalibrationFactor" type="double">${BeamCalCalibrationFactor}</parameter>
        <!--Weighting constant to use in logarithmic weighting of hits, if negative energy weighting is used-->
        <parameter name="LogWeightingConstant" type="double">-1.</parameter>
        <!--Maximum Distance between primary tower and neighbours to put into one cluster-->
        <parameter name="MaxPadDistance" type="double">1e10</parameter>
        <!--Use Chi2 selection criteria to detect high energy electron in the signal.-->
        <parameter name="UseChi2Selection" type="double">false</parameter>
        <!--Limit on square norm of tower energy chi2/ndf, where chi2 = (E_dep - E_bg)^2/sig^2.
			  Reasonable value for pregenerated bkg is 5., for parametrised is 2.-->
        <parameter name="TowerChi2ndfLimit" type="double">2.</parameter>
        <!--Flag to create the TEfficiency for fast tagging library-->
        <parameter name="CreateEfficiencyFile" type="bool">false</parameter>
        <!--The name of the rootFile which will contain the TEfficiency objects-->
        <parameter name="EfficiencyFilename" type="string">TaggingEfficiency.root</parameter>
        <!--Number of Event that should be printed to PDF File-->
        <parameter name="PrintThisEvent" type="int">1</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <parameter name="Verbosity" type="string">MESSAGE</parameter>
    </processor>
    <!-- Post reconstruction related : PID, Vertexing, Particle finding, cluster topology -->
    <processor name="MyAdd4MomCovMatrixCharged" type="Add4MomCovMatrixCharged">
        <!--Name of the PandoraPFOs collection-->
        <parameter name="InputPandoraPFOsCollection" type="String">PandoraPFOs</parameter>
        <!--Verbosity lower than MESSAGE4 will print out cov. matrix for each pfo-->
        <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">MESSAGE4</parameter>
    </processor>
    <processor name="MyAddClusterProperties" type="AddClusterProperties">
        <parameter name="PFOCollectionName" type="string" lcioInType="ReconstructedParticle">PandoraPFOs</parameter>
        <parameter name="ClusterCollection" type="string" lcioInType="Cluster">PandoraClusters</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <parameter name="Verbosity" type="string">MESSAGE</parameter>
    </processor>
    <processor name="MyComputeShowerShapesProcessor" type="ComputeShowerShapesProcessor">
        <!--Performs Shower profile extraction-->
        <!--Debugging?-->
        <parameter name="Debug" type="int">0</parameter>
        <!--Name of the PFO collection-->
        <parameter name="PFOCollection" type="string">PandoraPFOs</parameter>
        <!--Name of the Cluster collection-->
        <parameter name="ClusterCollectionName" type="string">PandoraClusters</parameter>
        <!-- Radiation Length of Ecal-->
        <parameter name="RadiationLength_Ecal" type="float">3.50</parameter>
        <!-- Radiation Length of Hcal-->
        <parameter name="RadiationLength_Hcal" type="float">17.57</parameter>
        <!-- Moliere radius of Ecal-->
        <parameter name="MoliereRadius_Ecal" type="float">9.00</parameter>
        <!-- Moliere radius of Hcal-->
        <parameter name="MoliereRadius_Hcal" type="float">17.19</parameter>
    </processor>
    <processor name="MyphotonCorrectionProcessor" type="photonCorrectionProcessor">
        <!--photonCorrectionProcessor applies an energy correction to photon-like PFOs-->
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
        <!--name of input PFO collection-->
        <parameter name="inputCollection" type="string">PandoraPFOs</parameter>
        <!--apply the corrected energies to the PFOs-->
        <parameter name="modifyPFOenergies" type="bool">${ApplyPhotonPFOCorrections}</parameter>
        <!--apply the corrected direction to the PFOs-->
        <parameter name="modifyPFOdirection" type="bool">${ApplyPhotonPFOCorrections}</parameter>
        <!--nominal photon energy (for validation plots)-->
        <parameter name="nominalEnergy" type="float">200</parameter>
        <!--produce validation plots-->
        <parameter name="validationPlots" type="bool">false</parameter>
        <!-- the parameters for the various corrections -->
        <parameter name="energyCor_Linearise">0.987 0.01426</parameter>
        <parameter name="energyCorr_barrelPhi">0.412249 0.0142289 -0.0933687 0.01345 0.0408156</parameter>
        <parameter name="energyCorr_costh">-0.09 0. 0.235 0.007256 -0.0369648 0. 0.588 0.0121604 -0.0422968 0.774 0.009 1.002</parameter>
        <parameter name="energyCorr_endcap">-0.025 855. 23. -0.07 1489. 18.</parameter>
        <parameter name="phiCorr_barrel">2.36517e-05 1.32090e-04 -3.86883e+00 -1.67809e-01 2.28614e-05 6.03495e-05 0.419 0.00728 0.025 0.00 2.86667e-05 2.49371e-05 -7.71684e-06 -1.48118e-05 -5.63786e-06 -9.38376e-06 -4.96296e-06 2.91262e-06</parameter>
        <parameter name="thetaCorr_barrel">-0.000166568 -7.119e-05 0.000223618 -3.95915e-05</parameter>
        <parameter name="thetaCorr_endcap">0.000129478 -3.73863e-05 -0.000847783 0.000153646 0.000806605 -0.000132608</parameter>
    </processor>
    <processor name="MyV0Finder" type="V0Finder">
        <parameter name="InputRecoParticleCollection" type="string">PandoraPFOs</parameter>
        <parameter name="TrackCollection" type="string">MarlinTrkTracks</parameter>
        <parameter name="MassRangeGamma" type="float">0.01</parameter>
        <parameter name="MassRangeK0S" type="float">0.1</parameter>
        <parameter name="MassRangeL0" type="float">0.1</parameter>
        <parameter name="Verbosity" options="DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT">DEBUG</parameter>
    </processor>
    <processor name="MyPi0Finder" type="GammaGammaCandidateFinder">
        <parameter name="InputParticleCollectionName" value="PandoraPFOs" />
        <parameter name="GammaGammaResonanceName" value="Pi0" />
        <parameter name="GammaGammaResonanceMass" value="0.1349766" />
        <parameter name="MaxDeltaMgg" value="0.04" />
        <parameter name="GammaMomentumCut" value="0.5" />
        <parameter name="Printing" value="0" />
        <parameter name="OutputParticleCollectionName" value="GammaGammaCandidatePi0s" />
    </processor>
    <processor name="MyEtaFinder" type="GammaGammaCandidateFinder">
        <parameter name="InputParticleCollectionName" value="PandoraPFOs" />
        <parameter name="GammaGammaResonanceName" value="Eta" />
        <parameter name="GammaGammaResonanceMass" value="0.547862" />
        <parameter name="MaxDeltaMgg" value="0.14" />
        <parameter name="GammaMomentumCut" value="1.0" />
        <parameter name="Printing" value="0" />
        <parameter name="OutputParticleCollectionName" value="GammaGammaCandidateEtas" />
    </processor>
    <processor name="MyEtaPrimeFinder" type="GammaGammaCandidateFinder">
        <parameter name="InputParticleCollectionName" value="PandoraPFOs" />
        <parameter name="GammaGammaResonanceName" value="EtaPrime" />
        <parameter name="GammaGammaResonanceMass" value="0.95778" />
        <parameter name="MaxDeltaMgg" value="0.19" />
        <parameter name="GammaMomentumCut" value="2.0" />
        <parameter name="Printing" value="0" />
        <parameter name="OutputParticleCollectionName" value="GammaGammaCandidateEtaPrimes" />
    </processor>
    <processor name="MyGammaGammaSolutionFinder" type="GammaGammaSolutionFinder">
        <parameter name="InputParticleCollectionName1" value="GammaGammaCandidatePi0s" />
        <parameter name="InputParticleCollectionName2" value="GammaGammaCandidateEtas" />
        <parameter name="InputParticleCollectionName3" value="GammaGammaCandidateEtaPrimes" />
        <parameter name="Printing" value="0" />
        <parameter name="OutputParticleCollectionName" value="GammaGammaParticles" />
    </processor>
    <processor name="MyDistilledPFOCreator" type="DistilledPFOCreator">
        <parameter name="InputParticleCollectionName1" value="PandoraPFOs" />
        <parameter name="InputParticleCollectionName2" value="GammaGammaParticles" />
        <parameter name="Printing" value="0" />
        <parameter name="OutputParticleCollectionName" value="DistilledPFOs" />
    </processor>
    <processor name="MyLikelihoodPID" type="LikelihoodPIDProcessor">
        <!--Performs particle identification-->
        <!--Debugging?-->
        <parameter name="Debug" type="int">1</parameter>
        <!--Boundaries for energy binning-->
        <parameter name="EnergyBoundaries" type="FloatVec">0 1.0e+07</parameter>
        <!--Name of files containing pdfs for charged particles-->
        <parameter name="FilePDFName" type="StringVec">${PidPDFFile}</parameter>
        <!--Whether MVA low momentum mu/pi is used or not-->
        <parameter name="UseLowMomentumMuPiSeparation" type="bool">true</parameter>
        <!--The BDTG weights files for low momentum mu/pi separation-->
        <parameter name="FileWeightFormupiSeparationName" type="StringVec">${PidWeightFiles}</parameter>
        <!--dE/dx parameters for each particle-->
        <parameter name="dEdxParameter_electron" type="FloatVec">-1.28883368e-02 2.72959919e+01 1.10560871e+01 -1.74534200e+00 -9.84887586e-07</parameter>
        <parameter name="dEdxParameter_muon" type="FloatVec">6.49143971e-02 1.55775592e+03 9.31848047e+08 2.32201725e-01 2.50492066e-04</parameter>
        <parameter name="dEdxParameter_pion" type="FloatVec">6.54955215e-02 8.26239081e+06 1.92933904e+05 2.52743206e-01 2.26657525e-04</parameter>
        <parameter name="dEdxParameter_kaon" type="FloatVec">7.52235689e-02 1.59710415e+04 1.79625604e+06 3.15315795e-01 2.30414997e-04</parameter>
        <parameter name="dEdxParameter_proton" type="FloatVec">7.92251260e-02 6.38129720e+04 3.82995071e+04 2.80793601e-01 7.14371743e-04</parameter>
        <!--dE/dx normalization-->
        <parameter name="dEdxNormalization" type="float">1.350e-7</parameter>
        <!--dE/dx error factor(7.55 for l5, 8.53 for s5)-->
        <parameter name="dEdxErrorFactor" type="float">${dEdXErrorFactor}</parameter>
        <!-- Method: Maximum Likelihood(0), Bayesian(1), or risk based Bayesian(2)-->
        <parameter name="UseBayesian" type="int">2</parameter>
        <!-- Cost Matrix for risk based Bayesian(2)-->
        <parameter name="CostMatrix" type="FloatVec">1.0e-50 1.0 1.5 1.0 1.5 1.0 1.0e-50 3.0 1.0 1.0 1.0 1.0 1.0e-50 1.0 3.0 1.0 1.0 4.0 1.0e-50 2.0 1.0 1.0 5.0 1.0 1.0e-50</parameter>
        <!--Name of the PFO collection-->
        <parameter name="RecoParticleCollection" type="string">PandoraPFOs</parameter>
    </processor>
    <processor name="MyRecoMCTruthLinker" type="RecoMCTruthLinker">
        <!--links RecontructedParticles to the MCParticle based on number of hits used-->
        <!--energy cut for Brems that are kept-->
        <parameter name="BremsstrahlungEnergyCut" type="float">1</parameter>
        <!--Name of the updated calo-hit MCTruthLink output collection - not created if empty()-->
        <parameter name="CalohitMCTruthLinkName" type="string" lcioOutType="LCRelation">CalohitMCTruthLink</parameter>
        <!--Name of the Clusters input collection-->
        <parameter name="ClusterCollection" type="string" lcioInType="Cluster">PandoraClusters</parameter>
        <!--Name of the clusterMCTruthLink output collection - not created if empty()-->
        <parameter name="ClusterMCTruthLinkName" type="string" lcioOutType="LCRelation">ClusterMCTruthLink</parameter>
        <!--true: All reco <-> true relations are given, with weight = 10000*calo
	weight+track weight (weights in permill). false: Only highest contributor
	linked,and only to tracks, not clusters if there are any tracks-->
        <parameter name="FullRecoRelation" type="bool">false</parameter>
        <!--Work-around Mokka bug in vertex-is-not-endpoint-of-parent flag (logic inverted)-->
        <parameter name="InvertedNonDestructiveInteractionLogic" type="bool">false</parameter>
        <!--PDG codes of particles of which the daughters will be kept in the skimmmed MCParticle collection-->
        <!-- FIXME:Check if we really want to keep those -->
        <parameter name="KeepDaughtersPDG" type="IntVec">22 111 310 13 211 321 3120</parameter>
        <!--Name of the MCParticle input collection-->
        <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle">MCParticle</parameter>
        <!--Name of the skimmed MCParticle  output collection - not created if empty()-->
        <parameter name="MCParticlesSkimmedName" type="string" lcioOutType="MCParticle">MCParticlesSkimmed</parameter>
        <!--Name of the MCTruthClusterLink output collection-->
        <parameter name="MCTruthClusterLinkName" type="string" lcioOutType="LCRelation" />
        <!--Name of the MCTruthRecoLink output collection-->
        <parameter name="MCTruthRecoLinkName" type="string" lcioOutType="LCRelation" />
        <!--Name of the trackMCTruthLink output collection-->
        <parameter name="MCTruthTrackLinkName" type="string" lcioOutType="LCRelation" />
        <!--Name of the RecoMCTruthLink output collection - not created if empty()-->
        <parameter name="RecoMCTruthLinkName" type="string" lcioOutType="LCRelation">RecoMCTruthLink</parameter>
        <!--Name of the ReconstructedParticles input collection-->
        <parameter name="RecoParticleCollection" type="string" lcioInType="ReconstructedParticle">MergedRecoParticles</parameter>
        <!--save photons from Brems-->
        <parameter name="SaveBremsstrahlungPhotons" type="bool">false</parameter>
        <!--Names of the SimCaloHits input collections-->
        <parameter name="SimCaloHitCollections" type="StringVec" lcioInType="SimCalorimeterHit">BeamCalCollection LHCalCollection LumiCalCollection ${ECalSimHitCollections} ${HCalSimHitCollections} YokeBarrelCollection YokeEndcapsCollection</parameter>
        <!--Name of the  lcrelation collections, that link the SimCalorimeterHit to CalorimeterHit-->
        <parameter name="SimCalorimeterHitRelationNames" type="StringVec" lcioInType="LCRelation">EcalBarrelRelationsSimRec EcalEndcapRingRelationsSimRec EcalEndcapsRelationsSimRec HcalBarrelRelationsSimRec HcalEndcapRingRelationsSimRec HcalEndcapsRelationsSimRec RelationLHcalHit RelationMuonHit RelationLcalHit RelationBCalHit</parameter>
        <!--Names of the SimTrackerHits input collection-->
        <parameter name="SimTrackerHitCollections" type="StringVec" lcioInType="SimTrackerHit">VXDCollection FTD_PIXELCollection SITCollection OuterTrackerBarrelCollection FTD_STRIPCollection OuterTrackerEndcapCollection</parameter>
        <!--Name of the Tracks input collection-->
        <parameter name="TrackCollection" type="string" lcioInType="Track">SiTracks</parameter>
        <!--Name of the trackMCTruthLink output collection - not created if empty()-->
        <parameter name="MCTruthTrackLinkName" type="string" lcioOutType="LCRelation">MCTruthSiTracksLink</parameter>
        <parameter name="TrackMCTruthLinkName" type="string" lcioOutType="LCRelation">SiTracksMCTruthLink</parameter>
        <!--Name of the lcrelation collections, that link the TrackerHits to their SimTrackerHits.-->
        <parameter name="TrackerHitsRelInputCollections" type="StringVec" lcioInType="LCRelation">VXDTrackerHitRelations FTDPixelTrackerHitRelations SITTrackerHitRelations OuterTrackerBarrelHitsRelations FTDStripTrackerHitRelations OuterTrackerEndcapHitsRelations</parameter>
        <!--true: use relations for TrackerHits, false : use getRawHits -->
        <parameter name="UseTrackerHitRelations" type="bool">true</parameter>
        <!--If Using Particle Gun Ignore Gen Stat-->
        <parameter name="UsingParticleGun" type="bool">false</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <parameter name="Verbosity" type="string">MESSAGE</parameter>
        <!--energy cut for daughters that are kept from KeepDaughtersPDG-->
        <parameter name="daughtersECutMeV" type="float">10</parameter>
    </processor>
    <!-- Write reconstruction output : REC, DST and PfoAnalysis -->
    <processor name="MyLCIOOutputProcessor" type="LCIOOutputProcessor">
        <!--   standard output: full reconstruction keep all collections -->
        <parameter name="LCIOOutputFile" type="string">${RECOutputFile}</parameter>
        <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW" />
        <parameter name="DropCollectionNames" type="StringVec">${AdditionalDropCollectionsREC}</parameter>
        <parameter name="CompressionLevel" type="int" value="6" />
        <!--parameter name="SplitFileSizekB" type="int" value="1992294"/-->
    </processor>
    <processor name="DSTOutput" type="LCIOOutputProcessor">
        <!-- DST output: drop all hits, skim MCParticles and keep final Tracks, Clusters, Vertices and  ReconstructedParticles -->
        <parameter name="LCIOOutputFile" type="string">${DSTOutputFile}</parameter>
        <parameter name="DropCollectionTypes" type="StringVec">MCParticle SimTrackerHit SimCalorimeterHit TrackerHit TrackerHitPlane CalorimeterHit LCRelation Track LCFloatVec</parameter>
        <parameter name="DropCollectionNames" type="StringVec">PandoraPFANewStartVertices</parameter>
        <parameter name="FullSubsetCollections" type="StringVec" value="MCParticlesSkimmed" />
        <parameter name="KeepCollectionNames" type="StringVec">MCParticlesSkimmed MarlinTrkTracks MarlinTrkTracksProton MarlinTrkTracksKaon MCTruthMarlinTrkTracksLink MarlinTrkTracksMCTruthLink RecoMCTruthLink MCTruthRecoLink MCTruthClusterLink ClusterMCTruthLink</parameter>
        <parameter name="LCIOWriteMode" type="string" value="WRITE_NEW" />
        <parameter name="CompressionLevel" type="int" value="6" />
        <!--parameter name="SplitFileSizekB" type="int" value="1992294"/-->
    </processor>
    <processor name="MyPfoAnalysis" type="PfoAnalysis">
        <!--PfoAnalysis analyses output of PandoraPFANew-->
        <!--Names of input pfo collection-->
        <parameter name="PfoCollection" type="string" lcioInType="ReconstructedParticle">PandoraPFOs</parameter>
        <!--Names of mc particle collection-->
        <parameter name="MCParticleCollection" type="string" lcioInType="MCParticle">MCParticle</parameter>
        <!--Flag to look for quarks with mother Z-->
        <parameter name="LookForQuarksWithMotherZ" type="int">2</parameter>
        <!--MC pfo selection radius-->
        <parameter name="MCPfoSelectionRadius" type="float">500.</parameter>
        <!--MC pfo selection momentum-->
        <parameter name="MCPfoSelectionMomentum" type="float">0.01</parameter>
        <!--MC pfo selection neutron and proton low energy cut-off-->
        <parameter name="MCPfoSelectionLowEnergyNPCutOff" type="float">1.2</parameter>
        <!--Set the debug print level-->
        <parameter name="Printing" type="int">0</parameter>
        <!--Name of the output root file-->
        <parameter name="RootFile" type="string">${PfoOutputFile}</parameter>
        <!--Name of the ECal collection of calo hits used to form clusters-->
        <parameter name="ECalCollections" type="StringVec" lcioInType="CalorimeterHit">EcalBarrelCollectionRec EcalBarrelCollectionGapHits EcalEndcapsCollectionRec EcalEndcapsCollectionGapHits EcalEndcapRingCollectionRec</parameter>
        <!--Name of the HCAL collection used to form clusters-->
        <parameter name="HCalCollections" type="StringVec" lcioInType="CalorimeterHit">HcalBarrelCollectionRec HcalEndcapsCollectionRec HcalEndcapRingCollectionRec</parameter>
        <!--Name of the MUON collection used to form clusters-->
        <parameter name="MuonCollections" type="StringVec" lcioInType="CalorimeterHit">MUON</parameter>
        <!--Name of the BCAL collection used to form clusters-->
        <parameter name="BCalCollections" type="StringVec" lcioInType="CalorimeterHit">BCAL</parameter>
        <!--Name of the LHCAL collection used to form clusters-->
        <parameter name="LHCalCollections" type="StringVec" lcioInType="CalorimeterHit">LHCAL</parameter>
        <!--Name of the LCAL collection used to form clusters-->
        <parameter name="LCalCollections" type="StringVec" lcioInType="CalorimeterHit">LCAL</parameter>
        <!--Whether to collect calibration details-->
        <parameter name="CollectCalibrationDetails" type="int">0</parameter>
        <!--Name of the ECal collection post ddsim, pre digitisation-->
        <parameter name="ECalCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${ECalSimHitCollections}</parameter>
        <!--Name of the HCal Barrel collection post ddsim, pre digitisation-->
        <parameter name="HCalBarrelCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${HCalBarrelSimHitCollections}</parameter>
        <!--Name of the HCal EndCap collection post ddsim, pre digitisation-->
        <parameter name="HCalEndCapCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${HCalEndcapSimHitCollections}</parameter>
        <!--Name of the HCAL Other collection used to form clusters-->
        <parameter name="HCalOtherCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${HCalRingSimHitCollections}</parameter>
        <!--Name of the ECal Barrel collection post ddsim, pre digitisation-->
        <parameter name="ECalBarrelCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${ECalBarrelSimHitCollections}</parameter>
        <!--Name of the ECAL EndCap collection post ddsim, pre digitisation-->
        <parameter name="ECalEndCapCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${ECalEndcapSimHitCollections}</parameter>
        <!--Name of the ECAL Other collection post ddsim, pre digitisation-->
        <parameter name="ECalOtherCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">${ECalRingSimHitCollections}</parameter>
        <!--Name of the Muon collection post ddsim, pre digitisation-->
        <parameter name="MuonCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">YokeBarrelCollection YokeEndcapsCollection</parameter>
        <!--Name of the BeamCal collection post ddsim, pre digitisation-->
        <parameter name="BCalCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">BeamCalCollection</parameter>
        <!--Name of the LHCal collection post ddsim, pre digitisation-->
        <parameter name="LHCalCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">LHCalCollection</parameter>
        <!--Name of the LCal collection post ddsim, pre digitisation-->
        <parameter name="LCalCollectionsSimCaloHit" type="StringVec" lcioInType="SimCalorimeterHit">LumiCalCollection</parameter>
        <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
        <!--parameter name="Verbosity" type="string">DEBUG </parameter-->
    </processor>
</marlin>
