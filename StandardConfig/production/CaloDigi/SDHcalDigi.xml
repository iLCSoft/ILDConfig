

<group name="HcalDigi">

    <processor name="MySimDigital" type="SimDigital">
     <!--These are parameters for SDHCAL-->
     <parameter name="HCALOption"> TESLA </parameter>
     <parameter name="CellIDEncodingStringType"> LCGEO </parameter>
     
    <!-- Collections -->
     <!--Sim Calorimeter Hit Collections-->
     <parameter name="HCALCollections" type="StringVec" lcioInType="SimCalorimeterHit"> HCalBarrelRPCHits HCalEndcapRPCHits HCalECRingRPCHits </parameter>
     <!--HCAL Collection of real Hits-->
     <parameter name="HCALOutputCollection0" type="string" lcioOutType="CalorimeterHit">HcalBarrelCollectionRec </parameter>
     <!--HCAL Collection of real Hits-->
     <parameter name="HCALOutputCollection1" type="string" lcioOutType="CalorimeterHit">HcalEndcapsCollectionRec </parameter>
     <!--HCAL Collection of real Hits-->
     <parameter name="HCALOutputCollection2" type="string" lcioOutType="CalorimeterHit">HcalEndcapRingCollectionRec </parameter>

    <!--Induced charge simulation parameters-->
     <!--Parameter for the Polya distribution used to simulate the induced charge distribution : mean of the distribution-->
     <parameter name="PolyaAverageCharge" type="double">4.55 </parameter>
     <!--Parameter for the Polya distribution used to simulate the induced charge distribution : related to the distribution width -->
     <parameter name="PolyaWidthParameter" type="double">1.0 </parameter>

    <!--Induced charge dispatching parameters-->
    <!--Induced charge dispatching : which steps to use parameters-->
     <!--Maximum distance (mm) between the Geant4 step position and the cell center, in the RPC width direction, to keep a step for digitization. 
   Default value=0.0005-->
     <parameter name="StepCellCenterMaxDistanceLayerDirection" type="float">0.0005 </parameter>
     <!--if true, ensure that each hit will keep at least one step for digitisation independatly of filtering conditions (StepCellCenterMaxDistanc
   eLayerDirection)-->
     <parameter name="KeepAtLeastOneStep" type="bool">true </parameter>
     <!--Minimum distance (mm) between 2 Geant4 steps, in the RPC plane, to keep the 2 steps. Default value=0.5-->
     <parameter name="StepsMinDistanceRPCplaneDirection" type="float">1.2 </parameter>

    <!--Induced charge dispatching : dispatching mode-->
     <parameter name="ChargeSplitterOption" type="string"> Erf </parameter>

    <!--Induced charge dispatching : dispatching with function parameters-->
     <!--Width values for the different Erf functions-->
     <parameter name="erfWidth" type="FloatVec">1. 10.</parameter>
     <!--Weigth for the different Erf functions-->
     <parameter name="erfWeigth" type="FloatVec">1. 0.00077 </parameter>
     <!--distance in mm between two RPC pads : used if UseFunctionForChargeSplitting is true -->
     <parameter name="RPC_PadSeparation" type="float">0.408 </parameter>
     <!--maximal distance (in mm) at which a step can induce charge using the 2D function defined with functionFormula-->
     <parameter name="functionRange" type="float">30 </parameter>

    <!--digitisation parameters--> 
     <!--Threshold for HCAL Hits in pC-->
     <parameter name="HCALThreshold" type="FloatVec">0.114 5.4 14. </parameter>
     <!--Calibration coefficients for HCAL-->
     <parameter name="CalibrHCAL" type="FloatVec">${SDHcalEnergyFactors}</parameter>
     <!--Replace analog hit energy by value given in CalibrHCAL according to thresholds given in HCALThreshold-->
     <parameter name="doThresholds" type="bool">true </parameter>

     <!--Print or not SimDigital-->
     <!--parameter name="printSimDigital" type="bool">true </parameter-->
     <!--CaloHit Relation Collection-->
     <parameter name="RelationOutputCollection" type="string" lcioOutType="LCRelation">RelationCaloHit </parameter>
     <!--verbosity level of this processor ("DEBUG0-4,MESSAGE0-4,WARNING0-4,ERROR0-4,SILENT")-->
     <parameter name="Verbosity" type="string"> DEBUG </parameter>

   </processor>
   
</group>